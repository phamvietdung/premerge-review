"use strict";(()=>{var Z,v,ge,Xe,F,de,ye,ve,be,ae,re,ie,et,W={},Ce=[],tt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Q=Array.isArray;function I(t,e){for(var n in e)t[n]=e[n];return t}function se(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function nt(t,e,n){var o,i,a,s={};for(a in e)a=="key"?o=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?Z.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return J(t,s,o,i,null)}function J(t,e,n,o,i){var a={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++ge,__i:-1,__u:0};return i==null&&v.vnode!=null&&v.vnode(a),a}function O(t){return t.children}function K(t,e){this.props=t,this.context=e}function U(t,e){if(e==null)return t.__?U(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?U(t):null}function xe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return xe(t)}}function pe(t){(!t.__d&&(t.__d=!0)&&F.push(t)&&!Y.__r++||de!=v.debounceRendering)&&((de=v.debounceRendering)||ye)(Y)}function Y(){for(var t,e,n,o,i,a,s,l=1;F.length;)F.length>l&&F.sort(ve),t=F.shift(),l=F.length,t.__d&&(n=void 0,i=(o=(e=t).__v).__e,a=[],s=[],e.__P&&((n=I({},o)).__v=o.__v+1,v.vnode&&v.vnode(n),le(e.__P,n,o,e.__n,e.__P.namespaceURI,32&o.__u?[i]:null,a,i??U(o),!!(32&o.__u),s),n.__v=o.__v,n.__.__k[n.__i]=n,Se(a,n,s),n.__e!=i&&xe(n)));Y.__r=0}function ke(t,e,n,o,i,a,s,l,c,_,p){var r,u,f,b,R,C,g=o&&o.__k||Ce,m=e.length;for(c=ot(n,e,g,c,m),r=0;r<m;r++)(f=n.__k[r])!=null&&(u=f.__i==-1?W:g[f.__i]||W,f.__i=r,C=le(t,f,u,i,a,s,l,c,_,p),b=f.__e,f.ref&&u.ref!=f.ref&&(u.ref&&_e(u.ref,null,f),p.push(f.ref,f.__c||b,f)),R==null&&b!=null&&(R=b),4&f.__u||u.__k===f.__k?c=we(f,c,t):typeof f.type=="function"&&C!==void 0?c=C:b&&(c=b.nextSibling),f.__u&=-7);return n.__e=R,c}function ot(t,e,n,o,i){var a,s,l,c,_,p=n.length,r=p,u=0;for(t.__k=new Array(i),a=0;a<i;a++)(s=e[a])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=a+u,(s=t.__k[a]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?J(null,s,null,null,null):Q(s)?J(O,{children:s},null,null,null):s.constructor==null&&s.__b>0?J(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,l=null,(_=s.__i=rt(s,n,c,r))!=-1&&(r--,(l=n[_])&&(l.__u|=2)),l==null||l.__v==null?(_==-1&&(i>p?u--:i<p&&u++),typeof s.type!="function"&&(s.__u|=4)):_!=c&&(_==c-1?u--:_==c+1?u++:(_>c?u--:u++,s.__u|=4))):t.__k[a]=null;if(r)for(a=0;a<p;a++)(l=n[a])!=null&&(2&l.__u)==0&&(l.__e==o&&(o=U(l)),Be(l,l));return o}function we(t,e,n){var o,i;if(typeof t.type=="function"){for(o=t.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=t,e=we(o[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=U(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function rt(t,e,n,o){var i,a,s=t.key,l=t.type,c=e[n];if(c===null&&t.key==null||c&&s==c.key&&l==c.type&&(2&c.__u)==0)return n;if(o>(c!=null&&(2&c.__u)==0?1:0))for(i=n-1,a=n+1;i>=0||a<e.length;){if(i>=0){if((c=e[i])&&(2&c.__u)==0&&s==c.key&&l==c.type)return i;i--}if(a<e.length){if((c=e[a])&&(2&c.__u)==0&&s==c.key&&l==c.type)return a;a++}}return-1}function he(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||tt.test(e)?n:n+"px"}function V(t,e,n,o,i){var a,s;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||he(t.style,e,"");if(n)for(e in n)o&&n[e]==o[e]||he(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(be,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?o?n.u=o.u:(n.u=ae,t.addEventListener(e,a?ie:re,a)):t.removeEventListener(e,a?ie:re,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function me(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=ae++;else if(e.t<n.u)return;return n(v.event?v.event(e):e)}}}function le(t,e,n,o,i,a,s,l,c,_){var p,r,u,f,b,R,C,g,m,T,E,A,P,N,D,L,G,B=e.type;if(e.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),a=[l=e.__e=n.__e]),(p=v.__b)&&p(e);e:if(typeof B=="function")try{if(g=e.props,m="prototype"in B&&B.prototype.render,T=(p=B.contextType)&&o[p.__c],E=p?T?T.props.value:p.__:o,n.__c?C=(r=e.__c=n.__c).__=r.__E:(m?e.__c=r=new B(g,E):(e.__c=r=new K(g,E),r.constructor=B,r.render=at),T&&T.sub(r),r.props=g,r.state||(r.state={}),r.context=E,r.__n=o,u=r.__d=!0,r.__h=[],r._sb=[]),m&&r.__s==null&&(r.__s=r.state),m&&B.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=I({},r.__s)),I(r.__s,B.getDerivedStateFromProps(g,r.__s))),f=r.props,b=r.state,r.__v=e,u)m&&B.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),m&&r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(m&&B.getDerivedStateFromProps==null&&g!==f&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(g,E),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(g,r.__s,E)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(r.props=g,r.state=r.__s,r.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),A=0;A<r._sb.length;A++)r.__h.push(r._sb[A]);r._sb=[],r.__h.length&&s.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(g,r.__s,E),m&&r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(f,b,R)})}if(r.context=E,r.props=g,r.__P=t,r.__e=!1,P=v.__r,N=0,m){for(r.state=r.__s,r.__d=!1,P&&P(e),p=r.render(r.props,r.state,r.context),D=0;D<r._sb.length;D++)r.__h.push(r._sb[D]);r._sb=[]}else do r.__d=!1,P&&P(e),p=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++N<25);r.state=r.__s,r.getChildContext!=null&&(o=I(I({},o),r.getChildContext())),m&&!u&&r.getSnapshotBeforeUpdate!=null&&(R=r.getSnapshotBeforeUpdate(f,b)),L=p,p!=null&&p.type===O&&p.key==null&&(L=Re(p.props.children)),l=ke(t,Q(L)?L:[L],e,n,o,i,a,s,l,c,_),r.base=e.__e,e.__u&=-161,r.__h.length&&s.push(r),C&&(r.__E=r.__=null)}catch(z){if(e.__v=null,c||a!=null)if(z.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else for(G=a.length;G--;)se(a[G]);else e.__e=n.__e,e.__k=n.__k;v.__e(z,e,n)}else a==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=it(n.__e,e,n,o,i,a,s,c,_);return(p=v.diffed)&&p(e),128&e.__u?void 0:l}function Se(t,e,n){for(var o=0;o<n.length;o++)_e(n[o],n[++o],n[++o]);v.__c&&v.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){v.__e(a,i.__v)}})}function Re(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Q(t)?t.map(Re):I({},t)}function it(t,e,n,o,i,a,s,l,c){var _,p,r,u,f,b,R,C=n.props,g=e.props,m=e.type;if(m=="svg"?i="http://www.w3.org/2000/svg":m=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(_=0;_<a.length;_++)if((f=a[_])&&"setAttribute"in f==!!m&&(m?f.localName==m:f.nodeType==3)){t=f,a[_]=null;break}}if(t==null){if(m==null)return document.createTextNode(g);t=document.createElementNS(i,m,g.is&&g),l&&(v.__m&&v.__m(e,a),l=!1),a=null}if(m==null)C===g||l&&t.data==g||(t.data=g);else{if(a=a&&Z.call(t.childNodes),C=n.props||W,!l&&a!=null)for(C={},_=0;_<t.attributes.length;_++)C[(f=t.attributes[_]).name]=f.value;for(_ in C)if(f=C[_],_!="children"){if(_=="dangerouslySetInnerHTML")r=f;else if(!(_ in g)){if(_=="value"&&"defaultValue"in g||_=="checked"&&"defaultChecked"in g)continue;V(t,_,null,f,i)}}for(_ in g)f=g[_],_=="children"?u=f:_=="dangerouslySetInnerHTML"?p=f:_=="value"?b=f:_=="checked"?R=f:l&&typeof f!="function"||C[_]===f||V(t,_,f,C[_],i);if(p)l||r&&(p.__html==r.__html||p.__html==t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(r&&(t.innerHTML=""),ke(e.type=="template"?t.content:t,Q(u)?u:[u],e,n,o,m=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,s,a?a[0]:n.__k&&U(n,0),l,c),a!=null)for(_=a.length;_--;)se(a[_]);l||(_="value",m=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[_]||m=="progress"&&!b||m=="option"&&b!=C[_])&&V(t,_,b,C[_],i),_="checked",R!=null&&R!=t[_]&&V(t,_,R,C[_],i))}return t}function _e(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(i){v.__e(i,n)}}function Be(t,e,n){var o,i;if(v.unmount&&v.unmount(t),(o=t.ref)&&(o.current&&o.current!=t.__e||_e(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(a){v.__e(a,e)}o.base=o.__P=null}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&Be(o[i],e,n||typeof t.type!="function");n||se(t.__e),t.__c=t.__=t.__e=void 0}function at(t,e,n){return this.constructor(t,n)}function Me(t,e,n){var o,i,a,s;e==document&&(e=document.documentElement),v.__&&v.__(t,e),i=(o=typeof n=="function")?null:n&&n.__k||e.__k,a=[],s=[],le(e,t=(!o&&n||e).__k=nt(O,null,[t]),i||W,W,e.namespaceURI,!o&&n?[n]:i?null:e.firstChild?Z.call(e.childNodes):null,a,!o&&n?n:i?i.__e:e.firstChild,o,s),Se(a,t,s)}Z=Ce.slice,v={__e:function(t,e,n,o){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,o||{}),s=i.__d),s)return i.__E=i}catch(l){t=l}throw t}},ge=0,Xe=function(t){return t!=null&&t.constructor==null},K.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=I({},this.state),typeof t=="function"&&(t=t(I({},n),this.props)),t&&I(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),pe(this))},K.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),pe(this))},K.prototype.render=O,F=[],ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ve=function(t,e){return t.__v.__b-e.__v.__b},Y.__r=0,be=/(PointerCapture)$|Capture$/i,ae=0,re=me(!1),ie=me(!0),et=0;var j,k,ce,Ee,ee=0,ze=[],w=v,Ie=w.__b,He=w.__r,Te=w.diffed,Ae=w.__c,Pe=w.unmount,Ne=w.__;function fe(t,e){w.__h&&w.__h(k,t,ee||e),ee=0;var n=k.__H||(k.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return ee=1,st(Ue,t)}function st(t,e,n){var o=fe(j++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ue(void 0,e),function(l){var c=o.__N?o.__N[0]:o.__[0],_=o.t(c,l);c!==_&&(o.__N=[_,o.__[1]],o.__c.setState({}))}],o.__c=k,!k.__f)){var i=function(l,c,_){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(u){return!!u.__c});if(p.every(function(u){return!u.__N}))return!a||a.call(this,l,c,_);var r=o.__c.props!==l;return p.forEach(function(u){if(u.__N){var f=u.__[0];u.__=u.__N,u.__N=void 0,f!==u.__[0]&&(r=!0)}}),a&&a.call(this,l,c,_)||r};k.__f=!0;var a=k.shouldComponentUpdate,s=k.componentWillUpdate;k.componentWillUpdate=function(l,c,_){if(this.__e){var p=a;a=void 0,i(l,c,_),a=p}s&&s.call(this,l,c,_)},k.shouldComponentUpdate=i}return o.__N||o.__}function $(t,e){var n=fe(j++,3);!w.__s&&De(n.__H,e)&&(n.__=t,n.u=e,k.__H.__h.push(n))}function Fe(t){return ee=5,lt(function(){return{current:t}},[])}function lt(t,e){var n=fe(j++,7);return De(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function _t(){for(var t;t=ze.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(X),t.__H.__h.forEach(ue),t.__H.__h=[]}catch(e){t.__H.__h=[],w.__e(e,t.__v)}}w.__b=function(t){k=null,Ie&&Ie(t)},w.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Ne&&Ne(t,e)},w.__r=function(t){He&&He(t),j=0;var e=(k=t.__c).__H;e&&(ce===k?(e.__h=[],k.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(X),e.__h.forEach(ue),e.__h=[],j=0)),ce=k},w.diffed=function(t){Te&&Te(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ze.push(e)!==1&&Ee===w.requestAnimationFrame||((Ee=w.requestAnimationFrame)||ct)(_t)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ce=k=null},w.__c=function(t,e){e.some(function(n){try{n.__h.forEach(X),n.__h=n.__h.filter(function(o){return!o.__||ue(o)})}catch(o){e.some(function(i){i.__h&&(i.__h=[])}),e=[],w.__e(o,n.__v)}}),Ae&&Ae(t,e)},w.unmount=function(t){Pe&&Pe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{X(o)}catch(i){e=i}}),n.__H=void 0,e&&w.__e(e,n.__v))};var Le=typeof requestAnimationFrame=="function";function ct(t){var e,n=function(){clearTimeout(o),Le&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,35);Le&&(e=requestAnimationFrame(n))}function X(t){var e=k,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),k=e}function ue(t){var e=k;t.__c=t.__(),k=e}function De(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ue(t,e){return typeof e=="function"?e(t):e}var ut=0,gt=Array.isArray;function d(t,e,n,o,i,a){e||(e={});var s,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?s=e[l]:c[l]=e[l];var _={type:t,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ut,__i:-1,__u:0,__source:i,__self:a};if(typeof t=="function"&&(s=t.defaultProps))for(l in s)c[l]===void 0&&(c[l]=s[l]);return v.vnode&&v.vnode(_),_}var H=acquireVsCodeApi();function te({options:t,value:e,onChange:n,placeholder:o="Select..."}){let[i,a]=S(!1),[s,l]=S(""),[c,_]=S(t),p=Fe(null);$(()=>{let u=t.filter(f=>f.toLowerCase().includes(s.toLowerCase()));_(u)},[s,t]),$(()=>{function u(f){let b=p.current;b&&b.contains&&!b.contains(f.target)&&(a(!1),l(""))}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);let r=u=>{n(u),a(!1),l("")};return d("div",{style:h.selectContainer,ref:p,children:[d("div",{style:h.selectDisplay,onClick:()=>a(!i),children:[d("span",{children:e||o}),d("span",{style:h.arrow,children:i?"\u25B2":"\u25BC"})]}),i&&d("div",{style:h.dropdown,children:[d("input",{style:h.searchInput,type:"text",placeholder:"Search...",value:s,onChange:u=>l(u.target.value),autoFocus:!0}),d("div",{style:h.optionsList,children:c.length>0?c.map((u,f)=>d("div",{style:{...h.option,...e===u?h.selectedOption:{}},onClick:()=>r(u),children:u},f)):d("div",{style:h.noOptions,children:"No options found"})})]})]})}var h={container:{padding:"1rem",fontFamily:"sans-serif",color:"#ffffff",backgroundColor:"#1e1e1e",height:"100%"},heading:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem"},label:{fontSize:"0.85rem",marginBottom:"0.25rem",display:"block"},select:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"#2d2d2d",color:"#ffffff",border:"1px solid #444",borderRadius:"4px"},selectContainer:{position:"relative",width:"100%"},selectDisplay:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"#2d2d2d",color:"#ffffff",border:"1px solid #444",borderRadius:"4px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box"},arrow:{fontSize:"0.8rem",color:"#888"},dropdown:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"#2d2d2d",border:"1px solid #444",borderTop:"none",borderRadius:"0 0 4px 4px",zIndex:1e3,maxHeight:"200px",overflow:"hidden"},searchInput:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"#1e1e1e",color:"#ffffff",border:"none",borderBottom:"1px solid #444",outline:"none",boxSizing:"border-box"},optionsList:{maxHeight:"150px",overflowY:"auto"},option:{padding:"0.5rem",cursor:"pointer",borderBottom:"1px solid #333"},selectedOption:{backgroundColor:"#007acc"},noOptions:{padding:"0.5rem",color:"#888",textAlign:"center"},button:{marginTop:"1.5rem",width:"100%",padding:"0.6rem",fontSize:"0.95rem",backgroundColor:"#007acc",color:"#ffffff",border:"none",borderRadius:"4px",cursor:"pointer"},loading:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",fontSize:"0.9rem",color:"#888"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},refreshButton:{backgroundColor:"#444",color:"#ffffff",border:"none",borderRadius:"4px",padding:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},warning:{backgroundColor:"#664d00",color:"#ffcc00",padding:"0.5rem",borderRadius:"4px",fontSize:"0.85rem",marginBottom:"1rem",textAlign:"center"},commitSection:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"#2a2a2a",borderRadius:"4px",border:"1px solid #444"},loadingText:{color:"#888",fontSize:"0.8rem",fontStyle:"italic"},commitCount:{color:"#007acc",fontSize:"0.8rem"},selectedCommit:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"#004d00",color:"#00cc00",borderRadius:"4px",fontSize:"0.85rem",display:"flex",justifyContent:"space-between",alignItems:"center"},clearButton:{backgroundColor:"#666",color:"#fff",border:"none",borderRadius:"3px",padding:"0.25rem 0.5rem",fontSize:"0.8rem",cursor:"pointer"},intelligentRoutingInfo:{backgroundColor:"#2a4a2a",color:"#4ade80",padding:"0.75rem",borderRadius:"4px",fontSize:"0.85rem",marginBottom:"1rem",border:"1px solid #22c55e",display:"flex",alignItems:"flex-start",gap:"0.5rem"},intelligentRoutingWarning:{backgroundColor:"#4d3319",color:"#fbbf24",padding:"0.75rem",borderRadius:"4px",fontSize:"0.85rem",marginBottom:"1rem",border:"1px solid #f59e0b",display:"flex",alignItems:"flex-start",gap:"0.5rem"},reviewSection:{position:"absolute",width:"100%",bottom:"0",left:"0",backgroundColor:"#2a2a2a",borderTop:"1px solid #444",padding:"0.75rem",boxSizing:"border-box"},reviewSectionTitle:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.75rem",color:"#ffffff",display:"flex",alignItems:"center",gap:"0.5rem"},reviewStatus:{fontSize:"0.8rem",marginBottom:"1rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:"#1a4d1a",color:"#4ade80",border:"1px solid #22c55e"},noReviewStatus:{fontSize:"0.8rem",marginBottom:"1rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:"#4d1a1a",color:"#fca5a5",border:"1px solid #ef4444"},reviewActions:{display:"flex",flexDirection:"row",gap:"0.5rem",justifyContent:"space-between"},actionButton:{padding:"0.6rem 0.75rem",fontSize:"0.85rem",fontWeight:"500",borderRadius:"4px",border:"none",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",flex:1,minHeight:"40px"},primaryButton:{backgroundColor:"#007acc",color:"#ffffff"},secondaryButton:{backgroundColor:"#4a5568",color:"#ffffff"},successButton:{backgroundColor:"#059669",color:"#ffffff"},disabledButton:{backgroundColor:"#374151",color:"#9ca3af",cursor:"not-allowed"},infoButton:{backgroundColor:"#0ea5e9",color:"#ffffff",border:"1px solid #0284c7"},settingsButton:{backgroundColor:"#6b7280",color:"#ffffff",border:"1px solid #4b5563"}};function ft(){let[t,e]=S(""),[n,o]=S(""),[i,a]=S(""),[s,l]=S(""),[c,_]=S([]),[p,r]=S([]),[u,f]=S({currentBranch:"",allBranches:[],remoteBranches:[],isGitRepo:!1}),[b,R]=S(!0),[C,g]=S(!1),[m,T]=S(!1),[E,A]=S(null),[P,N]=S(!1),[D,L]=S(!1),[G,B]=S(".github/instructions");$(()=>{H.postMessage({type:"requestGitInfo"}),H.postMessage({type:"requestChatModels"}),H.postMessage({type:"requestSettings"});let x=M=>{let y=M.data;if(y.type==="gitInfo"){f(y.data),e(y.data.currentBranch);let q=["dev","main","master","staging"].find(oe=>y.data.allBranches.includes(oe))||y.data.allBranches.find(oe=>oe!==y.data.currentBranch)||"";o(q),R(!1)}else if(y.type==="chatModels"){if(r(y.data),y.error)A(y.error),N(!0);else{A(null),N(!1);let ne=y.data.find(q=>q.family==="gpt-4o"||q.id==="gpt-4o")||y.data[0];ne&&l(ne.id)}T(!1)}else y.type==="showManualRefresh"?N(!0):y.type==="settings"?(L(y.data.intelligentRoutingEnabled),B(y.data.instructionFolderPath)):y.type==="branchCommits"?(console.log("Received commits for branch:",y.data.branchName),console.log("Received commits for branch:",y.data.commits),_(y.data.commits),g(!1)):y.type==="reviewCreated"?console.log("Review created:",y.data.summary):y.type==="reviewDataCleared"&&console.log("Review data cleared")};return window.addEventListener("message",x),()=>window.removeEventListener("message",x)},[]),$(()=>{t&&u.isGitRepo&&(g(!0),a(""),H.postMessage({type:"requestBranchCommits",branchName:t}))},[t,u.isGitRepo]);let z=["ticket-1234_update_product","ticket-4567_fix_order","feature/new-dashboard","bugfix/payment-issue","hotfix/security-patch","dev","main","staging","release/v2.0.0"],We=["dev","main","master","staging","release/v2.0.0","feature/new-dashboard","hotfix/security-patch"],je=u.isGitRepo&&u.allBranches.length>0?u.allBranches:z,$e=u.isGitRepo&&u.allBranches.length>0?u.allBranches:We,Ge=()=>{console.log({currentBranch:t,baseBranch:n,selectedCommit:i,selectedModel:s}),H.postMessage({type:"createReview",data:{currentBranch:t,baseBranch:n,selectedCommit:i,selectedModel:s}})},qe=()=>{R(!0),H.postMessage({type:"refreshGit"})},Ve=()=>{T(!0),A(null),N(!1),H.postMessage({type:"refreshChatModels"})},Je=()=>{H.postMessage({type:"showReviewResult"})},Ke=()=>{H.postMessage({type:"openSettings",settingId:"premergeReview"})};if(b)return d("div",{style:h.container,children:d("div",{style:h.loading,children:d("div",{children:"\u{1F504} Loading git information..."})})});let Ye=c.map(x=>`${x.shortHash} - ${x.message.split(`
`)[0].substring(0,50)}${x.message.length>50?"...":""}`),Ze=x=>{let M=c.find(y=>x.startsWith(y.shortHash));return M?M.hash:""},Qe=x=>{let M=c.find(y=>y.hash===x);return M?`${M.shortHash} - ${M.message.split(`
`)[0].substring(0,50)}${M.message.length>50?"...":""}`:x};return d("div",{style:h.container,children:[d("div",{style:h.header,children:[d("h2",{style:h.heading,children:"Premerge Review Extensions"}),d("button",{style:h.refreshButton,onClick:qe,title:"Refresh git branches",children:"\u{1F504}"})]}),!u.isGitRepo&&d("div",{style:h.warning,children:"\u26A0\uFE0F Not a Git repository. Using sample data."}),D?d("div",{style:h.intelligentRoutingInfo,children:d("div",{children:d("strong",{children:"Intelligent Routing Enabled"})})}):d("div",{style:h.intelligentRoutingWarning,children:d("div",{children:d("strong",{children:"Traditional Instructions Mode"})})}),d("label",{style:h.label,children:["Current Branch ",u.isGitRepo&&`(${u.allBranches.length} branches)`]}),d(te,{options:je,value:t,onChange:e,placeholder:"Select current branch..."}),t&&u.isGitRepo&&d("div",{style:h.commitSection,children:[d("label",{style:{...h.label,marginTop:"1rem"},children:["Select Commit (Optional)",C&&d("span",{style:h.loadingText,children:" - Loading commits..."}),!C&&c.length>0&&d("span",{style:h.commitCount,children:[" - ",c.length," commits loaded"]})]}),!C&&c.length>0&&d(te,{options:Ye,value:i?Qe(i):"",onChange:x=>a(Ze(x)),placeholder:"Select specific commit (or leave empty to use base branch)..."}),i&&d("div",{style:h.selectedCommit,children:["\u2713 Selected commit: ",i.substring(0,8),d("button",{style:h.clearButton,onClick:()=>a(""),children:"Clear"})]})]}),d("label",{style:{...h.label,marginTop:"1rem"},children:["Target Branch ",i?"(Will be ignored if commit is selected)":""," ",u.isGitRepo&&`(${u.allBranches.length} branches available)`]}),d(te,{options:$e,value:n,onChange:o,placeholder:"Select target branch..."}),d("label",{style:{...h.label,marginTop:"1rem"},children:["AI Model for Review ",m?"(Loading...)":`(${p.length} models available)`]}),E&&d("div",{style:h.warning,children:["\u26A0\uFE0F Failed to load AI models: ",E]}),P&&d("button",{style:{...h.button,backgroundColor:"#f59e0b",marginBottom:"0.5rem"},onClick:Ve,disabled:m,children:m?"Refreshing...":"\u{1F504} Manual Refresh AI Models"}),!m&&p.length>0&&d(te,{options:p.map(x=>x.displayName),value:p.find(x=>x.id===s)?.displayName||"",onChange:x=>{let M=p.find(y=>y.displayName===x);M&&l(M.id)},placeholder:"Select AI model for code review..."}),!m&&p.length===0&&!P&&d("div",{style:h.warning,children:"\u26A0\uFE0F No AI models available. Using default GPT-4o."}),d("button",{style:h.button,onClick:Ge,disabled:!t||!n&&!i||!s,children:["Create Review ",i?`(from commit ${i.substring(0,8)})`:`(from ${n})`," with ",p.find(x=>x.id===s)?.name||"AI"]}),d("div",{style:h.reviewSection,children:d("div",{style:h.reviewActions,children:[d("button",{style:{...h.actionButton,...h.infoButton},onClick:Je,title:"Show review history and results",children:"\u{1F4CB} History"}),d("button",{style:{...h.actionButton,...h.settingsButton},onClick:Ke,title:"Extension settings and configuration",children:"\u2699\uFE0F Settings"})]})})]})}var Oe=document.getElementById("root");Oe&&Me(d(ft,{}),Oe);})();
