"use strict";(()=>{var se,w,Be,lt,K,xe,Fe,Ie,Ee,me,pe,fe,ct,Z={},Me=[],dt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,le=Array.isArray;function D(t,e){for(var o in e)t[o]=e[o];return t}function ve(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ut(t,e,o){var r,a,i,s={};for(i in e)i=="key"?r=e[i]:i=="ref"?a=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?se.call(arguments,2):o),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return ne(t,s,r,a,null)}function ne(t,e,o,r,a){var i={type:t,props:e,key:o,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++Be,__i:-1,__u:0};return a==null&&w.vnode!=null&&w.vnode(i),i}function G(t){return t.children}function ie(t,e){this.props=t,this.context=e}function Y(t,e){if(e==null)return t.__?Y(t.__,t.__i+1):null;for(var o;e<t.__k.length;e++)if((o=t.__k[e])!=null&&o.__e!=null)return o.__e;return typeof t.type=="function"?Y(t):null}function Te(t){var e,o;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((o=t.__k[e])!=null&&o.__e!=null){t.__e=t.__c.base=o.__e;break}return Te(t)}}function Ce(t){(!t.__d&&(t.__d=!0)&&K.push(t)&&!ae.__r++||xe!=w.debounceRendering)&&((xe=w.debounceRendering)||Fe)(ae)}function ae(){for(var t,e,o,r,a,i,s,c=1;K.length;)K.length>c&&K.sort(Ie),t=K.shift(),c=K.length,t.__d&&(o=void 0,a=(r=(e=t).__v).__e,i=[],s=[],e.__P&&((o=D({},r)).__v=r.__v+1,w.vnode&&w.vnode(o),ge(e.__P,o,r,e.__n,e.__P.namespaceURI,32&r.__u?[a]:null,i,a??Y(r),!!(32&r.__u),s),o.__v=r.__v,o.__.__k[o.__i]=o,We(i,o,s),o.__e!=a&&Te(o)));ae.__r=0}function Le(t,e,o,r,a,i,s,c,u,d,m){var n,p,_,v,M,x,b=r&&r.__k||Me,g=e.length;for(u=_t(o,e,b,u,g),n=0;n<g;n++)(_=o.__k[n])!=null&&(p=_.__i==-1?Z:b[_.__i]||Z,_.__i=n,x=ge(t,_,p,a,i,s,c,u,d,m),v=_.__e,_.ref&&p.ref!=_.ref&&(p.ref&&he(p.ref,null,_),m.push(_.ref,_.__c||v,_)),M==null&&v!=null&&(M=v),4&_.__u||p.__k===_.__k?u=Pe(_,u,t):typeof _.type=="function"&&x!==void 0?u=x:v&&(u=v.nextSibling),_.__u&=-7);return o.__e=M,u}function _t(t,e,o,r,a){var i,s,c,u,d,m=o.length,n=m,p=0;for(t.__k=new Array(a),i=0;i<a;i++)(s=e[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(u=i+p,(s=t.__k[i]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ne(null,s,null,null,null):le(s)?ne(G,{children:s},null,null,null):s.constructor==null&&s.__b>0?ne(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,c=null,(d=s.__i=pt(s,o,u,n))!=-1&&(n--,(c=o[d])&&(c.__u|=2)),c==null||c.__v==null?(d==-1&&(a>m?p--:a<m&&p++),typeof s.type!="function"&&(s.__u|=4)):d!=u&&(d==u-1?p--:d==u+1?p++:(d>u?p--:p++,s.__u|=4))):t.__k[i]=null;if(n)for(i=0;i<m;i++)(c=o[i])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=Y(c)),He(c,c));return r}function Pe(t,e,o){var r,a;if(typeof t.type=="function"){for(r=t.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=t,e=Pe(r[a],e,o));return e}t.__e!=e&&(e&&t.type&&!o.contains(e)&&(e=Y(t)),o.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function pt(t,e,o,r){var a,i,s=t.key,c=t.type,u=e[o];if(u===null&&t.key==null||u&&s==u.key&&c==u.type&&(2&u.__u)==0)return o;if(r>(u!=null&&(2&u.__u)==0?1:0))for(a=o-1,i=o+1;a>=0||i<e.length;){if(a>=0){if((u=e[a])&&(2&u.__u)==0&&s==u.key&&c==u.type)return a;a--}if(i<e.length){if((u=e[i])&&(2&u.__u)==0&&s==u.key&&c==u.type)return i;i++}}return-1}function Se(t,e,o){e[0]=="-"?t.setProperty(e,o??""):t[e]=o==null?"":typeof o!="number"||dt.test(e)?o:o+"px"}function re(t,e,o,r,a){var i,s;e:if(e=="style")if(typeof o=="string")t.style.cssText=o;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)o&&e in o||Se(t.style,e,"");if(o)for(e in o)r&&o[e]==r[e]||Se(t.style,e,o[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(Ee,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=o,o?r?o.u=r.u:(o.u=me,t.addEventListener(e,i?fe:pe,i)):t.removeEventListener(e,i?fe:pe,i);else{if(a=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=o??"";break e}catch{}typeof o=="function"||(o==null||o===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&o==1?"":o))}}function Re(t){return function(e){if(this.l){var o=this.l[e.type+t];if(e.t==null)e.t=me++;else if(e.t<o.u)return;return o(w.event?w.event(e):e)}}}function ge(t,e,o,r,a,i,s,c,u,d){var m,n,p,_,v,M,x,b,g,P,E,z,N,j,O,W,q,T=e.type;if(e.constructor!=null)return null;128&o.__u&&(u=!!(32&o.__u),i=[c=e.__e=o.__e]),(m=w.__b)&&m(e);e:if(typeof T=="function")try{if(b=e.props,g="prototype"in T&&T.prototype.render,P=(m=T.contextType)&&r[m.__c],E=m?P?P.props.value:m.__:r,o.__c?x=(n=e.__c=o.__c).__=n.__E:(g?e.__c=n=new T(b,E):(e.__c=n=new ie(b,E),n.constructor=T,n.render=mt),P&&P.sub(n),n.props=b,n.state||(n.state={}),n.context=E,n.__n=r,p=n.__d=!0,n.__h=[],n._sb=[]),g&&n.__s==null&&(n.__s=n.state),g&&T.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=D({},n.__s)),D(n.__s,T.getDerivedStateFromProps(b,n.__s))),_=n.props,v=n.state,n.__v=e,p)g&&T.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),g&&n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(g&&T.getDerivedStateFromProps==null&&b!==_&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(b,E),!n.__e&&n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(b,n.__s,E)===!1||e.__v==o.__v){for(e.__v!=o.__v&&(n.props=b,n.state=n.__s,n.__d=!1),e.__e=o.__e,e.__k=o.__k,e.__k.some(function(f){f&&(f.__=e)}),z=0;z<n._sb.length;z++)n.__h.push(n._sb[z]);n._sb=[],n.__h.length&&s.push(n);break e}n.componentWillUpdate!=null&&n.componentWillUpdate(b,n.__s,E),g&&n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(_,v,M)})}if(n.context=E,n.props=b,n.__P=t,n.__e=!1,N=w.__r,j=0,g){for(n.state=n.__s,n.__d=!1,N&&N(e),m=n.render(n.props,n.state,n.context),O=0;O<n._sb.length;O++)n.__h.push(n._sb[O]);n._sb=[]}else do n.__d=!1,N&&N(e),m=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++j<25);n.state=n.__s,n.getChildContext!=null&&(r=D(D({},r),n.getChildContext())),g&&!p&&n.getSnapshotBeforeUpdate!=null&&(M=n.getSnapshotBeforeUpdate(_,v)),W=m,m!=null&&m.type===G&&m.key==null&&(W=Ae(m.props.children)),c=Le(t,le(W)?W:[W],e,o,r,a,i,s,c,u,d),n.base=e.__e,e.__u&=-161,n.__h.length&&s.push(n),x&&(n.__E=n.__=null)}catch(f){if(e.__v=null,u||i!=null)if(f.then){for(e.__u|=u?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;i[i.indexOf(c)]=null,e.__e=c}else for(q=i.length;q--;)ve(i[q]);else e.__e=o.__e,e.__k=o.__k;w.__e(f,e,o)}else i==null&&e.__v==o.__v?(e.__k=o.__k,e.__e=o.__e):c=e.__e=ft(o.__e,e,o,r,a,i,s,u,d);return(m=w.diffed)&&m(e),128&e.__u?void 0:c}function We(t,e,o){for(var r=0;r<o.length;r++)he(o[r],o[++r],o[++r]);w.__c&&w.__c(e,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(i){i.call(a)})}catch(i){w.__e(i,a.__v)}})}function Ae(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:le(t)?t.map(Ae):D({},t)}function ft(t,e,o,r,a,i,s,c,u){var d,m,n,p,_,v,M,x=o.props,b=e.props,g=e.type;if(g=="svg"?a="http://www.w3.org/2000/svg":g=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),i!=null){for(d=0;d<i.length;d++)if((_=i[d])&&"setAttribute"in _==!!g&&(g?_.localName==g:_.nodeType==3)){t=_,i[d]=null;break}}if(t==null){if(g==null)return document.createTextNode(b);t=document.createElementNS(a,g,b.is&&b),c&&(w.__m&&w.__m(e,i),c=!1),i=null}if(g==null)x===b||c&&t.data==b||(t.data=b);else{if(i=i&&se.call(t.childNodes),x=o.props||Z,!c&&i!=null)for(x={},d=0;d<t.attributes.length;d++)x[(_=t.attributes[d]).name]=_.value;for(d in x)if(_=x[d],d!="children"){if(d=="dangerouslySetInnerHTML")n=_;else if(!(d in b)){if(d=="value"&&"defaultValue"in b||d=="checked"&&"defaultChecked"in b)continue;re(t,d,null,_,a)}}for(d in b)_=b[d],d=="children"?p=_:d=="dangerouslySetInnerHTML"?m=_:d=="value"?v=_:d=="checked"?M=_:c&&typeof _!="function"||x[d]===_||re(t,d,_,x[d],a);if(m)c||n&&(m.__html==n.__html||m.__html==t.innerHTML)||(t.innerHTML=m.__html),e.__k=[];else if(n&&(t.innerHTML=""),Le(e.type=="template"?t.content:t,le(p)?p:[p],e,o,r,g=="foreignObject"?"http://www.w3.org/1999/xhtml":a,i,s,i?i[0]:o.__k&&Y(o,0),c,u),i!=null)for(d=i.length;d--;)ve(i[d]);c||(d="value",g=="progress"&&v==null?t.removeAttribute("value"):v!=null&&(v!==t[d]||g=="progress"&&!v||g=="option"&&v!=x[d])&&re(t,d,v,x[d],a),d="checked",M!=null&&M!=t[d]&&re(t,d,M,x[d],a))}return t}function he(t,e,o){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(a){w.__e(a,o)}}function He(t,e,o){var r,a;if(w.unmount&&w.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||he(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){w.__e(i,e)}r.base=r.__P=null}if(r=t.__k)for(a=0;a<r.length;a++)r[a]&&He(r[a],e,o||typeof t.type!="function");o||ve(t.__e),t.__c=t.__=t.__e=void 0}function mt(t,e,o){return this.constructor(t,o)}function Ne(t,e,o){var r,a,i,s;e==document&&(e=document.documentElement),w.__&&w.__(t,e),a=(r=typeof o=="function")?null:o&&o.__k||e.__k,i=[],s=[],ge(e,t=(!r&&o||e).__k=ut(G,null,[t]),a||Z,Z,e.namespaceURI,!r&&o?[o]:a?null:e.firstChild?se.call(e.childNodes):null,i,!r&&o?o:a?a.__e:e.firstChild,r,s),We(i,t,s)}se=Me.slice,w={__e:function(t,e,o,r){for(var a,i,s;e=e.__;)if((a=e.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(t)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,r||{}),s=a.__d),s)return a.__E=a}catch(c){t=c}throw t}},Be=0,lt=function(t){return t!=null&&t.constructor==null},ie.prototype.setState=function(t,e){var o;o=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=D({},this.state),typeof t=="function"&&(t=t(D({},o),this.props)),t&&D(o,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ce(this))},ie.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ce(this))},ie.prototype.render=G,K=[],Fe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ie=function(t,e){return t.__v.__b-e.__v.__b},ae.__r=0,Ee=/(PointerCapture)$|Capture$/i,me=0,pe=Re(!1),fe=Re(!0),ct=0;var Q,B,ye,ze,X=0,Ve=[],I=w,Oe=I.__b,De=I.__r,Ue=I.diffed,je=I.__c,$e=I.unmount,Ge=I.__;function ke(t,e){I.__h&&I.__h(B,t,X||e),X=0;var o=B.__H||(B.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function y(t){return X=1,vt(Ye,t)}function vt(t,e,o){var r=ke(Q++,2);if(r.t=t,!r.__c&&(r.__=[o?o(e):Ye(void 0,e),function(c){var u=r.__N?r.__N[0]:r.__[0],d=r.t(u,c);u!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=B,!B.__f)){var a=function(c,u,d){if(!r.__c.__H)return!0;var m=r.__c.__H.__.filter(function(p){return!!p.__c});if(m.every(function(p){return!p.__N}))return!i||i.call(this,c,u,d);var n=r.__c.props!==c;return m.forEach(function(p){if(p.__N){var _=p.__[0];p.__=p.__N,p.__N=void 0,_!==p.__[0]&&(n=!0)}}),i&&i.call(this,c,u,d)||n};B.__f=!0;var i=B.shouldComponentUpdate,s=B.componentWillUpdate;B.componentWillUpdate=function(c,u,d){if(this.__e){var m=i;i=void 0,a(c,u,d),i=m}s&&s.call(this,c,u,d)},B.shouldComponentUpdate=a}return r.__N||r.__}function U(t,e){var o=ke(Q++,3);!I.__s&&Ke(o.__H,e)&&(o.__=t,o.u=e,B.__H.__h.push(o))}function de(t){return X=5,Je(function(){return{current:t}},[])}function Je(t,e){var o=ke(Q++,7);return Ke(o.__H,e)&&(o.__=t(),o.__H=e,o.__h=t),o.__}function ee(t,e){return X=8,Je(function(){return t},e)}function gt(){for(var t;t=Ve.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ce),t.__H.__h.forEach(be),t.__H.__h=[]}catch(e){t.__H.__h=[],I.__e(e,t.__v)}}I.__b=function(t){B=null,Oe&&Oe(t)},I.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Ge&&Ge(t,e)},I.__r=function(t){De&&De(t),Q=0;var e=(B=t.__c).__H;e&&(ye===B?(e.__h=[],B.__h=[],e.__.forEach(function(o){o.__N&&(o.__=o.__N),o.u=o.__N=void 0})):(e.__h.forEach(ce),e.__h.forEach(be),e.__h=[],Q=0)),ye=B},I.diffed=function(t){Ue&&Ue(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ve.push(e)!==1&&ze===I.requestAnimationFrame||((ze=I.requestAnimationFrame)||ht)(gt)),e.__H.__.forEach(function(o){o.u&&(o.__H=o.u),o.u=void 0})),ye=B=null},I.__c=function(t,e){e.some(function(o){try{o.__h.forEach(ce),o.__h=o.__h.filter(function(r){return!r.__||be(r)})}catch(r){e.some(function(a){a.__h&&(a.__h=[])}),e=[],I.__e(r,o.__v)}}),je&&je(t,e)},I.unmount=function(t){$e&&$e(t);var e,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(r){try{ce(r)}catch(a){e=a}}),o.__H=void 0,e&&I.__e(e,o.__v))};var qe=typeof requestAnimationFrame=="function";function ht(t){var e,o=function(){clearTimeout(r),qe&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(o,35);qe&&(e=requestAnimationFrame(o))}function ce(t){var e=B,o=t.__c;typeof o=="function"&&(t.__c=void 0,o()),B=e}function be(t){var e=B;t.__c=t.__(),B=e}function Ke(t,e){return!t||t.length!==e.length||e.some(function(o,r){return o!==t[r]})}function Ye(t,e){return typeof e=="function"?e(t):e}var yt=0,Rt=Array.isArray;function l(t,e,o,r,a,i){e||(e={});var s,c,u=e;if("ref"in u)for(c in u={},e)c=="ref"?s=e[c]:u[c]=e[c];var d={type:t,props:u,key:o,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--yt,__i:-1,__u:0,__source:a,__self:i};if(typeof t=="function"&&(s=t.defaultProps))for(c in s)u[c]===void 0&&(u[c]=s[c]);return w.vnode&&w.vnode(d),d}function we({vscode:t}){let[e,o]=y([]),[r,a]=y([]),[i,s]=y({}),[c,u]=y({}),[d,m]=y(!1),[n,p]=y({}),[_,v]=y({}),[M,x]=y(null),[b,g]=y(null),P=de({}),E=ee(()=>{t&&(m(!0),t.postMessage({type:"requestWorkspaceFolders"}))},[t]);U(()=>{E();let f=F=>{let C=F.data;if(C.type==="workspaceFolders"){let S=C.data??{},L=Array.isArray(S.directories)?S.directories:[],H=Array.isArray(S.files)?S.files:[];o(L),a(H),m(!1),g(null);let V={...P.current};H.forEach(J=>{V[J.path]=J}),P.current=V}if(C.type==="workspaceFoldersError"&&(m(!1),g(C.error||"Unable to load workspace folders.")),C.type==="filesInFolder"){let S=C.folderPath,L=C.data??{},H=Array.isArray(L.directories)?L.directories:[],V=Array.isArray(L.files)?L.files:[];C.error?g(C.error):g(null),u($=>({...$,[S]:{directories:H,files:V}}));let J={...P.current};V.forEach($=>{J[$.path]=$}),P.current=J,p($=>({...$,[S]:!1}))}if(C.type==="fileReviewSubmitted"){let S=C.filePath,L=P.current;S&&L[S]?x(`Opened file for review: ${L[S].relativePath}`):x(S?`Opened file for review: ${S}`:"Opened file for review.")}C.type==="fileReviewError"&&(x(null),g(C.error||"Unable to open the selected file."))};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[E]);let z=ee(f=>{let F=!!i[f.path];s(C=>({...C,[f.path]:!F})),!F&&!c[f.path]&&(p(C=>({...C,[f.path]:!0})),t&&t.postMessage({type:"requestFilesInFolder",folderPath:f.path}))},[i,c,t]),N=ee(f=>{v(F=>({...F,[f]:!F[f]})),x(null)},[]),j=ee(()=>{let f=Object.keys(_).filter(F=>_[F]);if(f.length===0){x("Please choose one or more files before submitting.");return}x("Submitting selected files for review..."),g(null),t&&t.postMessage({type:"submitFilesReview",filePaths:f})},[_,t]),O=["cs","ts","tsx","js","php","java"],W=f=>{let F=f.name.split(".");if(F.length===1)return!1;let C=F[F.length-1].toLowerCase();return O.includes(C)},q=f=>{if(!W(f))return null;let F=!!_[f.path];return l("li",{style:{marginBottom:"0.4rem"},children:l("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[l("input",{type:"checkbox",name:"file-review-selection",value:f.path,checked:F,onChange:()=>N(f.path)}),l("span",{children:f.relativePath})]})},f.path)},T=(f,F=0)=>{let C=!!i[f.path],S=c[f.path],L=F*16;return l("li",{style:{marginBottom:"0.75rem"},children:[l("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",paddingLeft:L},children:[l("button",{style:{border:"none",background:"transparent",color:"var(--vscode-foreground)",cursor:"pointer",fontSize:"0.9rem",padding:0,width:"2rem",textAlign:"left"},onClick:()=>z(f),"aria-label":C?"Collapse folder":"Expand folder","aria-expanded":C,children:C?"\u25BE":"\u25B8"}),l("span",{style:{fontWeight:600},children:f.relativePath||f.name})]}),C&&l("div",{style:{marginLeft:L+16,marginTop:"0.5rem"},children:[n[f.path]&&l("div",{children:"Loading files..."}),!n[f.path]&&S&&S.directories.length===0&&S.files.length===0&&l("div",{children:"No entries found in this folder."}),!n[f.path]&&S&&S.directories.length>0&&l("ul",{style:{listStyle:"none",paddingLeft:0},children:S.directories.map(H=>T(H,F+1))}),!n[f.path]&&S&&S.files.length>0&&l("ul",{style:{listStyle:"none",paddingLeft:0},children:S.files.map(H=>q(H))})]})]},f.path)};return l("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l("div",{children:[l("h3",{style:{fontSize:"1.1rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"File Review"}),l("p",{style:{margin:0,color:"var(--vscode-descriptionForeground)"},children:"Browse folders, choose the file you want to review, then submit to open it."})]}),b&&l("div",{style:{background:"#ff000022",color:"#ff6666",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ff6666"},children:b}),r.length>0&&l("div",{children:[l("h4",{style:{margin:"0 0 0.5rem 0"},children:"Workspace root files"}),l("ul",{style:{listStyle:"none",paddingLeft:0,margin:0},children:r.map(f=>q(f))})]}),l("div",{children:[d&&l("div",{children:"Loading workspace folders..."}),!d&&e.length===0&&l("div",{children:"No folders found in the current workspace."}),!d&&e.length>0&&l("ul",{style:{listStyle:"none",paddingLeft:0,margin:0},children:e.map(f=>T(f,0))})]}),l("button",{style:{alignSelf:"flex-start",padding:"0.6rem 1.2rem",fontSize:"0.95rem",borderRadius:"4px",border:"none",cursor:Object.keys(_).some(f=>_[f])?"pointer":"not-allowed",background:Object.keys(_).some(f=>_[f])?"#22c55e":"#3a3a3a",color:Object.keys(_).some(f=>_[f])?"#fff":"#888"},onClick:j,disabled:!Object.keys(_).some(f=>_[f]),children:"Submit for review"}),M&&l("div",{style:{fontSize:"0.9rem",color:"var(--vscode-descriptionForeground)"},children:M})]})}var h={container:{padding:"1rem",fontFamily:"var(--vscode-font-family)",color:"var(--vscode-foreground)",backgroundColor:"var(--vscode-editor-background)",height:"100%"},heading:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem",color:"var(--vscode-foreground)"},label:{fontSize:"0.85rem",marginBottom:"0.25rem",display:"block",color:"var(--vscode-foreground)"},select:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",border:"1px solid var(--vscode-input-border)",borderRadius:"4px"},selectContainer:{position:"relative",width:"100%"},selectDisplay:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",border:"1px solid var(--vscode-input-border)",borderRadius:"4px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box"},arrow:{fontSize:"0.8rem",color:"var(--vscode-descriptionForeground)"},dropdown:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"var(--vscode-dropdown-background)",border:"1px solid var(--vscode-dropdown-border)",borderTop:"none",borderRadius:"0 0 4px 4px",zIndex:1e3,maxHeight:"200px",overflow:"hidden"},searchInput:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",border:"none",borderBottom:"1px solid var(--vscode-input-border)",outline:"none",boxSizing:"border-box"},optionsList:{maxHeight:"150px",overflowY:"auto"},option:{padding:"0.5rem",cursor:"pointer",borderBottom:"1px solid var(--vscode-widget-border)",color:"var(--vscode-foreground)"},selectedOption:{backgroundColor:"var(--vscode-list-activeSelectionBackground)",color:"var(--vscode-list-activeSelectionForeground)"},noOptions:{padding:"0.5rem",color:"var(--vscode-descriptionForeground)",textAlign:"center"},button:{marginTop:"1.5rem",width:"100%",padding:"0.6rem",fontSize:"0.95rem",backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",border:"none",borderRadius:"4px",cursor:"pointer"},loading:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",fontSize:"0.9rem",color:"var(--vscode-descriptionForeground)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},refreshButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",border:"1px solid var(--vscode-button-border)",borderRadius:"4px",padding:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},warning:{backgroundColor:"var(--vscode-editorWarning-background)",color:"var(--vscode-editorWarning-foreground)",padding:"0.5rem",borderRadius:"4px",fontSize:"0.85rem",marginBottom:"1rem",textAlign:"center",border:"1px solid var(--vscode-editorWarning-border)"},commitSection:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"var(--vscode-editorWidget-background)",borderRadius:"4px",border:"1px solid var(--vscode-widget-border, var(--vscode-contrastBorder, #444))"},loadingText:{color:"var(--vscode-descriptionForeground)",fontSize:"0.8rem",fontStyle:"italic"},commitCount:{color:"var(--vscode-textLink-foreground)",fontSize:"0.8rem"},selectedCommit:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"var(--vscode-list-activeSelectionBackground)",color:"var(--vscode-list-activeSelectionForeground)",borderRadius:"4px",fontSize:"0.85rem",display:"flex",justifyContent:"space-between",alignItems:"center",border:"1px solid var(--vscode-contrastActiveBorder, var(--vscode-list-activeSelectionBackground))"},clearButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",border:"1px solid var(--vscode-button-border)",borderRadius:"3px",padding:"0.25rem 0.5rem",fontSize:"0.8rem",cursor:"pointer"},intelligentRoutingInfo:{backgroundColor:"var(--vscode-editorInfo-background)",color:"var(--vscode-editorInfo-foreground)",padding:"0.5rem",borderRadius:"4px",fontSize:"0.65rem",marginBottom:"0.5rem",border:"1px solid var(--vscode-editorInfo-border, var(--vscode-editorInfo-foreground, #22c55e))",display:"flex",alignItems:"flex-start",gap:"0.5rem"},intelligentRoutingWarning:{backgroundColor:"var(--vscode-editorWarning-background)",color:"var(--vscode-editorWarning-foreground)",padding:"0.5rem",borderRadius:"4px",fontSize:"0.65rem",marginBottom:"0.5rem",border:"1px solid var(--vscode-editorWarning-border, var(--vscode-contrastBorder, #f59e0b))",display:"flex",alignItems:"flex-start",gap:"0.5rem"},reviewSection:{position:"absolute",width:"100%",bottom:"0",left:"0",backgroundColor:"var(--vscode-editorWidget-background)",borderTop:"1px solid var(--vscode-widget-border)",padding:"0.75rem",boxSizing:"border-box"},reviewSectionTitle:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.75rem",color:"var(--vscode-foreground)",display:"flex",alignItems:"center",gap:"0.5rem"},reviewStatus:{fontSize:"0.8rem",marginBottom:"1rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:"var(--vscode-editorInfo-background)",color:"var(--vscode-editorInfo-foreground)",border:"1px solid var(--vscode-editorInfo-border)"},noReviewStatus:{fontSize:"0.8rem",marginBottom:"1rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:"var(--vscode-editorError-background)",color:"var(--vscode-editorError-foreground)",border:"1px solid var(--vscode-editorError-border)"},reviewActions:{display:"flex",flexDirection:"row",gap:"0.5rem",justifyContent:"space-between"},actionButton:{padding:"0.6rem 0.75rem",fontSize:"0.85rem",fontWeight:"500",borderRadius:"4px",border:"none",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",flex:1,minHeight:"40px"},primaryButton:{backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)"},secondaryButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)"},successButton:{backgroundColor:"var(--vscode-testing-iconPassed)",color:"var(--vscode-button-foreground)"},disabledButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-disabledForeground)",cursor:"not-allowed",opacity:"0.6"},infoButton:{backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",border:"1px solid var(--vscode-button-border)"},settingsButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",border:"1px solid var(--vscode-button-border)"}};function te({options:t,value:e,onChange:o,placeholder:r="Select..."}){let[a,i]=y(!1),[s,c]=y(""),[u,d]=y(t),m=de(null);U(()=>{let p=t.filter(_=>_.toLowerCase().includes(s.toLowerCase()));d(p)},[s,t]),U(()=>{function p(_){let v=m.current;v&&v.contains&&!v.contains(_.target)&&(i(!1),c(""))}return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);let n=p=>{o(p),i(!1),c("")};return l("div",{style:h.selectContainer,ref:m,children:[l("div",{style:h.selectDisplay,onClick:()=>i(!a),children:[l("span",{children:e||r}),l("span",{style:h.arrow,children:a?"\u25B2":"\u25BC"})]}),a&&l("div",{style:h.dropdown,children:[l("input",{style:h.searchInput,type:"text",placeholder:"Search...",value:s,onChange:p=>c(p.target.value),autoFocus:!0}),l("div",{style:h.optionsList,children:u.length>0?u.map((p,_)=>l("div",{style:{...h.option,...e===p?h.selectedOption:{}},onClick:()=>n(p),children:p},_)):l("div",{style:h.noOptions,children:"No options found"})})]})]})}function Ze(t){let{vscode:e}=t,[o,r]=y(""),[a,i]=y(""),[s,c]=y(""),[u,d]=y(""),[m,n]=y([]),[p,_]=y([]),[v,M]=y({currentBranch:"",allBranches:[],remoteBranches:[],isGitRepo:!1}),[x,b]=y(!0),[g,P]=y(!1),[E,z]=y(!1),[N,j]=y(null),[O,W]=y(!1),[q,T]=y(!1),[f,F]=y(".github/instructions"),[C,S]=y(null),[L,H]=y(!1);U(()=>{e.postMessage({type:"requestGitInfo"}),e.postMessage({type:"requestChatModels"}),e.postMessage({type:"requestSettings"});let R=A=>{let k=A.data;if(k.type==="gitInfo"){M(k.data),r(k.data.currentBranch);let oe=["dev","main","master","staging"].find(_e=>k.data.allBranches.includes(_e))||k.data.allBranches.find(_e=>_e!==k.data.currentBranch)||"";i(oe),b(!1)}else if(k.type==="chatModels"){if(_(k.data),k.error)j(k.error),W(!0);else{j(null),W(!1);let ue=k.data.find(oe=>oe.family==="gpt-4o"||oe.id==="gpt-4o")||k.data[0];ue&&d(ue.id)}z(!1)}else k.type==="showManualRefresh"?W(!0):k.type==="settings"?(T(k.data.intelligentRoutingEnabled),F(k.data.instructionFolderPath)):k.type==="branchCommits"?(console.log("Received commits for branch:",k.data.branchName),console.log("Received commits for branch:",k.data.commits),n(k.data.commits),P(!1)):k.type==="reviewCreated"?console.log("Review created:",k.data.summary):k.type==="reviewDataCleared"?console.log("Review data cleared"):k.type==="targetBranchStatus"&&(S(k.data),H(!1))};return window.addEventListener("message",R),()=>window.removeEventListener("message",R)},[]),U(()=>{o&&v.isGitRepo&&(P(!0),c(""),e.postMessage({type:"requestBranchCommits",branchName:o}))},[o,v.isGitRepo]),U(()=>{a&&v.isGitRepo?(H(!0),S(null),e.postMessage({type:"checkTargetBranch",targetBranch:a})):S(null)},[a,v.isGitRepo]);let V=["ticket-1234_update_product","ticket-4567_fix_order","feature/new-dashboard","bugfix/payment-issue","hotfix/security-patch","dev","main","staging","release/v2.0.0"],J=["dev","main","master","staging","release/v2.0.0","feature/new-dashboard","hotfix/security-patch"],$=v.isGitRepo&&v.allBranches.length>0?v.allBranches:V,et=v.isGitRepo&&v.allBranches.length>0?v.allBranches:J,tt=()=>{console.log({currentBranch:o,baseBranch:a,selectedCommit:s,selectedModel:u}),e.postMessage({type:"createReview",data:{currentBranch:o,baseBranch:a,selectedCommit:s,selectedModel:u}})},kt=()=>{b(!0),e.postMessage({type:"refreshGit"})},ot=()=>{z(!0),j(null),W(!1),e.postMessage({type:"refreshChatModels"})},rt=()=>{e.postMessage({type:"showReviewResult"})},nt=()=>{e.postMessage({type:"openSettings",settingId:"premergeReview"})};if(x)return l("div",{style:h.container,children:l("div",{style:h.loading,children:l("div",{children:"\u{1F504} Loading git information..."})})});let it=m.map(R=>`${R.shortHash} - ${R.message.split(`
`)[0].substring(0,50)}${R.message.length>50?"...":""}`),at=R=>{let A=m.find(k=>R.startsWith(k.shortHash));return A?A.hash:""},st=R=>{let A=m.find(k=>k.hash===R);return A?`${A.shortHash} - ${A.message.split(`
`)[0].substring(0,50)}${A.message.length>50?"...":""}`:R};return l(G,{children:[!v.isGitRepo&&l("div",{style:h.warning,children:"\u26A0\uFE0F Not a Git repository. Using sample data."}),l("label",{style:h.label,children:["Current Branch ",v.isGitRepo&&`(${v.allBranches.length} branches)`]}),l(te,{options:$,value:o,onChange:r,placeholder:"Select current branch..."}),o&&v.isGitRepo&&l("div",{style:h.commitSection,children:[l("label",{style:{...h.label,marginTop:"1rem"},children:["Select Commit (Optional)",g&&l("span",{style:h.loadingText,children:" - Loading commits..."}),!g&&m.length>0&&l("span",{style:h.commitCount,children:[" - ",m.length," commits loaded"]})]}),!g&&m.length>0&&l(te,{options:it,value:s?st(s):"",onChange:R=>c(at(R)),placeholder:"Select specific commit (or leave empty to use base branch)..."}),s&&l("div",{style:h.selectedCommit,children:["\u2713 Selected commit: ",s.substring(0,8),l("button",{style:h.clearButton,onClick:()=>c(""),children:"Clear"})]})]}),l("label",{style:{...h.label,marginTop:"1rem"},children:["Target Branch ",s?"(Will be ignored if commit is selected)":""," ",v.isGitRepo&&`(${v.allBranches.length} branches available)`,L&&l("span",{style:{color:"var(--vscode-descriptionForeground)",fontSize:"0.75rem",marginLeft:"0.5rem"},children:"\u{1F504} Checking..."}),C&&!L&&C.needsPull&&l("span",{style:{color:"#ff8c00",fontSize:"0.75rem",marginLeft:"0.5rem"},children:"\u26A0\uFE0F Pull recommended"})]}),l(te,{options:et,value:a,onChange:i,placeholder:"Select target branch..."}),l("label",{style:{...h.label,marginTop:"1rem"},children:["AI Model for Review ",E?"(Loading...)":`(${p.length} models available)`]}),N&&l("div",{style:h.warning,children:["\u26A0\uFE0F Failed to load AI models: ",N]}),O&&l("button",{style:{...h.button,backgroundColor:"#f59e0b",marginBottom:"0.5rem"},onClick:ot,disabled:E,children:E?"Refreshing...":"\u{1F504} Manual Refresh AI Models"}),!E&&p.length>0&&l(te,{options:p.map(R=>R.displayName),value:p.find(R=>R.id===u)?.displayName||"",onChange:R=>{let A=p.find(k=>k.displayName===R);A&&d(A.id)},placeholder:"Select AI model for code review..."}),!E&&p.length===0&&!O&&l("div",{style:h.warning,children:"\u26A0\uFE0F No AI models available. Using default GPT-4o."}),l("button",{style:h.button,onClick:tt,disabled:!o||!a&&!s||!u,children:["Create Review ",s?`(from commit ${s.substring(0,8)})`:`(from ${a})`," with ",p.find(R=>R.id===u)?.name||"AI"]}),l("div",{style:h.reviewSection,children:l("div",{style:h.reviewActions,children:[l("button",{style:{...h.actionButton,...h.infoButton},onClick:rt,title:"Show review history and results",children:"\u{1F4CB} History"}),l("button",{style:{...h.actionButton,...h.settingsButton},onClick:nt,title:"Extension settings and configuration",children:"\u2699\uFE0F Settings"})]})})]})}var Qe=acquireVsCodeApi();function bt(){let[t,e]=y("premerge");return l("div",{style:h.container,children:[l("div",{style:h.header,children:l("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[l("button",{onClick:()=>e("premerge"),title:"Switch to review commit",style:{padding:"0.4rem 0.6rem",borderRadius:"4px",border:t==="premerge"?"2px solid var(--vscode-list-activeSelectionBackground)":"1px solid var(--vscode-button-border)",background:t==="premerge"?"var(--vscode-button-background)":"transparent",color:"var(--vscode-button-foreground)",cursor:"pointer"},children:"Review Commit"}),l("button",{onClick:()=>e("file"),title:"Switch to review file",style:{padding:"0.4rem 0.6rem",borderRadius:"4px",border:t==="file"?"2px solid var(--vscode-list-activeSelectionBackground)":"1px solid var(--vscode-button-border)",background:t==="file"?"var(--vscode-button-background)":"transparent",color:"var(--vscode-button-foreground)",cursor:"pointer"},children:"Review File"})]})}),t==="premerge"&&l(Ze,{vscode:Qe}),t==="file"&&l("div",{style:{marginTop:"1rem"},children:l(we,{vscode:Qe})})]})}var Xe=document.getElementById("root");Xe&&Ne(l(bt,{}),Xe);})();
