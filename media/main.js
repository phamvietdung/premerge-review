"use strict";(()=>{var ie,k,xe,at,G,we,Re,Be,Fe,_e,de,ue,st,Q={},Ee=[],lt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ae=Array.isArray;function z(t,e){for(var o in e)t[o]=e[o];return t}function fe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ct(t,e,o){var n,a,i,c={};for(i in e)i=="key"?n=e[i]:i=="ref"?a=e[i]:c[i]=e[i];if(arguments.length>2&&(c.children=arguments.length>3?ie.call(arguments,2):o),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)c[i]===void 0&&(c[i]=t.defaultProps[i]);return oe(t,c,n,a,null)}function oe(t,e,o,n,a){var i={type:t,props:e,key:o,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++xe,__i:-1,__u:0};return a==null&&k.vnode!=null&&k.vnode(i),i}function U(t){return t.children}function ne(t,e){this.props=t,this.context=e}function V(t,e){if(e==null)return t.__?V(t.__,t.__i+1):null;for(var o;e<t.__k.length;e++)if((o=t.__k[e])!=null&&o.__e!=null)return o.__e;return typeof t.type=="function"?V(t):null}function Ie(t){var e,o;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((o=t.__k[e])!=null&&o.__e!=null){t.__e=t.__c.base=o.__e;break}return Ie(t)}}function Ce(t){(!t.__d&&(t.__d=!0)&&G.push(t)&&!re.__r++||we!=k.debounceRendering)&&((we=k.debounceRendering)||Re)(re)}function re(){for(var t,e,o,n,a,i,c,s=1;G.length;)G.length>s&&G.sort(Be),t=G.shift(),s=G.length,t.__d&&(o=void 0,a=(n=(e=t).__v).__e,i=[],c=[],e.__P&&((o=z({},n)).__v=n.__v+1,k.vnode&&k.vnode(o),pe(e.__P,o,n,e.__n,e.__P.namespaceURI,32&n.__u?[a]:null,i,a??V(n),!!(32&n.__u),c),o.__v=n.__v,o.__.__k[o.__i]=o,Le(i,o,c),o.__e!=a&&Ie(o)));re.__r=0}function Me(t,e,o,n,a,i,c,s,u,d,v){var r,f,_,x,C,h,w=n&&n.__k||Ee,g=e.length;for(u=dt(o,e,w,u,g),r=0;r<g;r++)(_=o.__k[r])!=null&&(f=_.__i==-1?Q:w[_.__i]||Q,_.__i=r,h=pe(t,_,f,a,i,c,s,u,d,v),x=_.__e,_.ref&&f.ref!=_.ref&&(f.ref&&me(f.ref,null,_),v.push(_.ref,_.__c||x,_)),C==null&&x!=null&&(C=x),4&_.__u||f.__k===_.__k?u=Ae(_,u,t):typeof _.type=="function"&&h!==void 0?u=h:x&&(u=x.nextSibling),_.__u&=-7);return o.__e=C,u}function dt(t,e,o,n,a){var i,c,s,u,d,v=o.length,r=v,f=0;for(t.__k=new Array(a),i=0;i<a;i++)(c=e[i])!=null&&typeof c!="boolean"&&typeof c!="function"?(u=i+f,(c=t.__k[i]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?oe(null,c,null,null,null):ae(c)?oe(U,{children:c},null,null,null):c.constructor==null&&c.__b>0?oe(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=t,c.__b=t.__b+1,s=null,(d=c.__i=ut(c,o,u,r))!=-1&&(r--,(s=o[d])&&(s.__u|=2)),s==null||s.__v==null?(d==-1&&(a>v?f--:a<v&&f++),typeof c.type!="function"&&(c.__u|=4)):d!=u&&(d==u-1?f--:d==u+1?f++:(d>u?f--:f++,c.__u|=4))):t.__k[i]=null;if(r)for(i=0;i<v;i++)(s=o[i])!=null&&(2&s.__u)==0&&(s.__e==n&&(n=V(s)),Pe(s,s));return n}function Ae(t,e,o){var n,a;if(typeof t.type=="function"){for(n=t.__k,a=0;n&&a<n.length;a++)n[a]&&(n[a].__=t,e=Ae(n[a],e,o));return e}t.__e!=e&&(e&&t.type&&!o.contains(e)&&(e=V(t)),o.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ut(t,e,o,n){var a,i,c=t.key,s=t.type,u=e[o];if(u===null&&t.key==null||u&&c==u.key&&s==u.type&&(2&u.__u)==0)return o;if(n>(u!=null&&(2&u.__u)==0?1:0))for(a=o-1,i=o+1;a>=0||i<e.length;){if(a>=0){if((u=e[a])&&(2&u.__u)==0&&c==u.key&&s==u.type)return a;a--}if(i<e.length){if((u=e[i])&&(2&u.__u)==0&&c==u.key&&s==u.type)return i;i++}}return-1}function Se(t,e,o){e[0]=="-"?t.setProperty(e,o??""):t[e]=o==null?"":typeof o!="number"||lt.test(e)?o:o+"px"}function te(t,e,o,n,a){var i,c;e:if(e=="style")if(typeof o=="string")t.style.cssText=o;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)o&&e in o||Se(t.style,e,"");if(o)for(e in o)n&&o[e]==n[e]||Se(t.style,e,o[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(Fe,"$1")),c=e.toLowerCase(),e=c in t||e=="onFocusOut"||e=="onFocusIn"?c.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=o,o?n?o.u=n.u:(o.u=_e,t.addEventListener(e,i?ue:de,i)):t.removeEventListener(e,i?ue:de,i);else{if(a=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=o??"";break e}catch{}typeof o=="function"||(o==null||o===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&o==1?"":o))}}function ke(t){return function(e){if(this.l){var o=this.l[e.type+t];if(e.t==null)e.t=_e++;else if(e.t<o.u)return;return o(k.event?k.event(e):e)}}}function pe(t,e,o,n,a,i,c,s,u,d){var v,r,f,_,x,C,h,w,g,L,M,W,T,O,H,q,p,y=e.type;if(e.constructor!=null)return null;128&o.__u&&(u=!!(32&o.__u),i=[s=e.__e=o.__e]),(v=k.__b)&&v(e);e:if(typeof y=="function")try{if(w=e.props,g="prototype"in y&&y.prototype.render,L=(v=y.contextType)&&n[v.__c],M=v?L?L.props.value:v.__:n,o.__c?h=(r=e.__c=o.__c).__=r.__E:(g?e.__c=r=new y(w,M):(e.__c=r=new ne(w,M),r.constructor=y,r.render=ft),L&&L.sub(r),r.props=w,r.state||(r.state={}),r.context=M,r.__n=n,f=r.__d=!0,r.__h=[],r._sb=[]),g&&r.__s==null&&(r.__s=r.state),g&&y.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=z({},r.__s)),z(r.__s,y.getDerivedStateFromProps(w,r.__s))),_=r.props,x=r.state,r.__v=e,f)g&&y.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),g&&r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(g&&y.getDerivedStateFromProps==null&&w!==_&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(w,M),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(w,r.__s,M)===!1||e.__v==o.__v){for(e.__v!=o.__v&&(r.props=w,r.state=r.__s,r.__d=!1),e.__e=o.__e,e.__k=o.__k,e.__k.some(function(B){B&&(B.__=e)}),W=0;W<r._sb.length;W++)r.__h.push(r._sb[W]);r._sb=[],r.__h.length&&c.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(w,r.__s,M),g&&r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(_,x,C)})}if(r.context=M,r.props=w,r.__P=t,r.__e=!1,T=k.__r,O=0,g){for(r.state=r.__s,r.__d=!1,T&&T(e),v=r.render(r.props,r.state,r.context),H=0;H<r._sb.length;H++)r.__h.push(r._sb[H]);r._sb=[]}else do r.__d=!1,T&&T(e),v=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++O<25);r.state=r.__s,r.getChildContext!=null&&(n=z(z({},n),r.getChildContext())),g&&!f&&r.getSnapshotBeforeUpdate!=null&&(C=r.getSnapshotBeforeUpdate(_,x)),q=v,v!=null&&v.type===U&&v.key==null&&(q=De(v.props.children)),s=Me(t,ae(q)?q:[q],e,o,n,a,i,c,s,u,d),r.base=e.__e,e.__u&=-161,r.__h.length&&c.push(r),h&&(r.__E=r.__=null)}catch(B){if(e.__v=null,u||i!=null)if(B.then){for(e.__u|=u?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,e.__e=s}else for(p=i.length;p--;)fe(i[p]);else e.__e=o.__e,e.__k=o.__k;k.__e(B,e,o)}else i==null&&e.__v==o.__v?(e.__k=o.__k,e.__e=o.__e):s=e.__e=_t(o.__e,e,o,n,a,i,c,u,d);return(v=k.diffed)&&v(e),128&e.__u?void 0:s}function Le(t,e,o){for(var n=0;n<o.length;n++)me(o[n],o[++n],o[++n]);k.__c&&k.__c(e,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(i){i.call(a)})}catch(i){k.__e(i,a.__v)}})}function De(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:ae(t)?t.map(De):z({},t)}function _t(t,e,o,n,a,i,c,s,u){var d,v,r,f,_,x,C,h=o.props,w=e.props,g=e.type;if(g=="svg"?a="http://www.w3.org/2000/svg":g=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),i!=null){for(d=0;d<i.length;d++)if((_=i[d])&&"setAttribute"in _==!!g&&(g?_.localName==g:_.nodeType==3)){t=_,i[d]=null;break}}if(t==null){if(g==null)return document.createTextNode(w);t=document.createElementNS(a,g,w.is&&w),s&&(k.__m&&k.__m(e,i),s=!1),i=null}if(g==null)h===w||s&&t.data==w||(t.data=w);else{if(i=i&&ie.call(t.childNodes),h=o.props||Q,!s&&i!=null)for(h={},d=0;d<t.attributes.length;d++)h[(_=t.attributes[d]).name]=_.value;for(d in h)if(_=h[d],d!="children"){if(d=="dangerouslySetInnerHTML")r=_;else if(!(d in w)){if(d=="value"&&"defaultValue"in w||d=="checked"&&"defaultChecked"in w)continue;te(t,d,null,_,a)}}for(d in w)_=w[d],d=="children"?f=_:d=="dangerouslySetInnerHTML"?v=_:d=="value"?x=_:d=="checked"?C=_:s&&typeof _!="function"||h[d]===_||te(t,d,_,h[d],a);if(v)s||r&&(v.__html==r.__html||v.__html==t.innerHTML)||(t.innerHTML=v.__html),e.__k=[];else if(r&&(t.innerHTML=""),Me(e.type=="template"?t.content:t,ae(f)?f:[f],e,o,n,g=="foreignObject"?"http://www.w3.org/1999/xhtml":a,i,c,i?i[0]:o.__k&&V(o,0),s,u),i!=null)for(d=i.length;d--;)fe(i[d]);s||(d="value",g=="progress"&&x==null?t.removeAttribute("value"):x!=null&&(x!==t[d]||g=="progress"&&!x||g=="option"&&x!=h[d])&&te(t,d,x,h[d],a),d="checked",C!=null&&C!=t[d]&&te(t,d,C,h[d],a))}return t}function me(t,e,o){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(a){k.__e(a,o)}}function Pe(t,e,o){var n,a;if(k.unmount&&k.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||me(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){k.__e(i,e)}n.base=n.__P=null}if(n=t.__k)for(a=0;a<n.length;a++)n[a]&&Pe(n[a],e,o||typeof t.type!="function");o||fe(t.__e),t.__c=t.__=t.__e=void 0}function ft(t,e,o){return this.constructor(t,o)}function He(t,e,o){var n,a,i,c;e==document&&(e=document.documentElement),k.__&&k.__(t,e),a=(n=typeof o=="function")?null:o&&o.__k||e.__k,i=[],c=[],pe(e,t=(!n&&o||e).__k=ct(U,null,[t]),a||Q,Q,e.namespaceURI,!n&&o?[o]:a?null:e.firstChild?ie.call(e.childNodes):null,i,!n&&o?o:a?a.__e:e.firstChild,n,c),Le(i,t,c)}ie=Ee.slice,k={__e:function(t,e,o,n){for(var a,i,c;e=e.__;)if((a=e.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(t)),c=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,n||{}),c=a.__d),c)return a.__E=a}catch(s){t=s}throw t}},xe=0,at=function(t){return t!=null&&t.constructor==null},ne.prototype.setState=function(t,e){var o;o=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=z({},this.state),typeof t=="function"&&(t=t(z({},o),this.props)),t&&z(o,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ce(this))},ne.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ce(this))},ne.prototype.render=U,G=[],Re=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Be=function(t,e){return t.__v.__b-e.__v.__b},re.__r=0,Fe=/(PointerCapture)$|Capture$/i,_e=0,de=ke(!1),ue=ke(!0),st=0;var Z,F,ve,We,X=0,$e=[],E=k,Te=E.__b,ze=E.__r,Ne=E.diffed,qe=E.__c,Ue=E.unmount,Oe=E.__;function ge(t,e){E.__h&&E.__h(F,t,X||e),X=0;var o=F.__H||(F.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function S(t){return X=1,pt(Ke,t)}function pt(t,e,o){var n=ge(Z++,2);if(n.t=t,!n.__c&&(n.__=[o?o(e):Ke(void 0,e),function(s){var u=n.__N?n.__N[0]:n.__[0],d=n.t(u,s);u!==d&&(n.__N=[d,n.__[1]],n.__c.setState({}))}],n.__c=F,!F.__f)){var a=function(s,u,d){if(!n.__c.__H)return!0;var v=n.__c.__H.__.filter(function(f){return!!f.__c});if(v.every(function(f){return!f.__N}))return!i||i.call(this,s,u,d);var r=n.__c.props!==s;return v.forEach(function(f){if(f.__N){var _=f.__[0];f.__=f.__N,f.__N=void 0,_!==f.__[0]&&(r=!0)}}),i&&i.call(this,s,u,d)||r};F.__f=!0;var i=F.shouldComponentUpdate,c=F.componentWillUpdate;F.componentWillUpdate=function(s,u,d){if(this.__e){var v=i;i=void 0,a(s,u,d),i=v}c&&c.call(this,s,u,d)},F.shouldComponentUpdate=a}return n.__N||n.__}function A(t,e){var o=ge(Z++,3);!E.__s&&Ve(o.__H,e)&&(o.__=t,o.u=e,F.__H.__h.push(o))}function K(t){return X=5,je(function(){return{current:t}},[])}function je(t,e){var o=ge(Z++,7);return Ve(o.__H,e)&&(o.__=t(),o.__H=e,o.__h=t),o.__}function le(t,e){return X=8,je(function(){return t},e)}function mt(){for(var t;t=$e.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(se),t.__H.__h.forEach(he),t.__H.__h=[]}catch(e){t.__H.__h=[],E.__e(e,t.__v)}}E.__b=function(t){F=null,Te&&Te(t)},E.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Oe&&Oe(t,e)},E.__r=function(t){ze&&ze(t),Z=0;var e=(F=t.__c).__H;e&&(ve===F?(e.__h=[],F.__h=[],e.__.forEach(function(o){o.__N&&(o.__=o.__N),o.u=o.__N=void 0})):(e.__h.forEach(se),e.__h.forEach(he),e.__h=[],Z=0)),ve=F},E.diffed=function(t){Ne&&Ne(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&($e.push(e)!==1&&We===E.requestAnimationFrame||((We=E.requestAnimationFrame)||vt)(mt)),e.__H.__.forEach(function(o){o.u&&(o.__H=o.u),o.u=void 0})),ve=F=null},E.__c=function(t,e){e.some(function(o){try{o.__h.forEach(se),o.__h=o.__h.filter(function(n){return!n.__||he(n)})}catch(n){e.some(function(a){a.__h&&(a.__h=[])}),e=[],E.__e(n,o.__v)}}),qe&&qe(t,e)},E.unmount=function(t){Ue&&Ue(t);var e,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(n){try{se(n)}catch(a){e=a}}),o.__H=void 0,e&&E.__e(e,o.__v))};var Ge=typeof requestAnimationFrame=="function";function vt(t){var e,o=function(){clearTimeout(n),Ge&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(o,35);Ge&&(e=requestAnimationFrame(o))}function se(t){var e=F,o=t.__c;typeof o=="function"&&(t.__c=void 0,o()),F=e}function he(t){var e=F;t.__c=t.__(),F=e}function Ve(t,e){return!t||t.length!==e.length||e.some(function(o,n){return o!==t[n]})}function Ke(t,e){return typeof e=="function"?e(t):e}var m={container:{padding:"1rem",fontFamily:"var(--vscode-font-family)",color:"var(--vscode-foreground)",backgroundColor:"var(--vscode-editor-background)",height:"100%"},heading:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem",color:"var(--vscode-foreground)"},label:{fontSize:"0.85rem",marginBottom:"0.25rem",display:"block",color:"var(--vscode-foreground)"},select:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",border:"1px solid var(--vscode-input-border)",borderRadius:"4px"},selectContainer:{position:"relative",width:"100%"},selectDisplay:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",border:"1px solid var(--vscode-input-border)",borderRadius:"4px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box"},arrow:{fontSize:"0.8rem",color:"var(--vscode-descriptionForeground)"},dropdown:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"var(--vscode-dropdown-background)",border:"1px solid var(--vscode-dropdown-border)",borderTop:"none",borderRadius:"0 0 4px 4px",zIndex:1e3,maxHeight:"200px",overflow:"hidden"},searchInput:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",border:"none",borderBottom:"1px solid var(--vscode-input-border)",outline:"none",boxSizing:"border-box"},optionsList:{maxHeight:"150px",overflowY:"auto"},option:{padding:"0.5rem",cursor:"pointer",borderBottom:"1px solid var(--vscode-widget-border)",color:"var(--vscode-foreground)"},selectedOption:{backgroundColor:"var(--vscode-list-activeSelectionBackground)",color:"var(--vscode-list-activeSelectionForeground)"},noOptions:{padding:"0.5rem",color:"var(--vscode-descriptionForeground)",textAlign:"center"},button:{marginTop:"1.5rem",width:"100%",padding:"0.6rem",fontSize:"0.95rem",backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",border:"none",borderRadius:"4px",cursor:"pointer"},loading:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",fontSize:"0.9rem",color:"var(--vscode-descriptionForeground)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},refreshButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",border:"1px solid var(--vscode-button-border)",borderRadius:"4px",padding:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},warning:{backgroundColor:"var(--vscode-editorWarning-background)",color:"var(--vscode-editorWarning-foreground)",padding:"0.5rem",borderRadius:"4px",fontSize:"0.85rem",marginBottom:"1rem",textAlign:"center",border:"1px solid var(--vscode-editorWarning-border)"},commitSection:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"var(--vscode-editorWidget-background)",borderRadius:"4px",border:"1px solid var(--vscode-widget-border, var(--vscode-contrastBorder, #444))"},loadingText:{color:"var(--vscode-descriptionForeground)",fontSize:"0.8rem",fontStyle:"italic"},commitCount:{color:"var(--vscode-textLink-foreground)",fontSize:"0.8rem"},selectedCommit:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"var(--vscode-list-activeSelectionBackground)",color:"var(--vscode-list-activeSelectionForeground)",borderRadius:"4px",fontSize:"0.85rem",display:"flex",justifyContent:"space-between",alignItems:"center",border:"1px solid var(--vscode-contrastActiveBorder, var(--vscode-list-activeSelectionBackground))"},clearButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",border:"1px solid var(--vscode-button-border)",borderRadius:"3px",padding:"0.25rem 0.5rem",fontSize:"0.8rem",cursor:"pointer"},intelligentRoutingInfo:{backgroundColor:"var(--vscode-editorInfo-background)",color:"var(--vscode-editorInfo-foreground)",padding:"0.5rem",borderRadius:"4px",fontSize:"0.65rem",marginBottom:"0.5rem",border:"1px solid var(--vscode-editorInfo-border, var(--vscode-editorInfo-foreground, #22c55e))",display:"flex",alignItems:"flex-start",gap:"0.5rem"},intelligentRoutingWarning:{backgroundColor:"var(--vscode-editorWarning-background)",color:"var(--vscode-editorWarning-foreground)",padding:"0.5rem",borderRadius:"4px",fontSize:"0.65rem",marginBottom:"0.5rem",border:"1px solid var(--vscode-editorWarning-border, var(--vscode-contrastBorder, #f59e0b))",display:"flex",alignItems:"flex-start",gap:"0.5rem"},reviewSection:{position:"absolute",width:"100%",bottom:"0",left:"0",backgroundColor:"var(--vscode-editorWidget-background)",borderTop:"1px solid var(--vscode-widget-border)",padding:"0.75rem",boxSizing:"border-box"},reviewSectionTitle:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.75rem",color:"var(--vscode-foreground)",display:"flex",alignItems:"center",gap:"0.5rem"},reviewStatus:{fontSize:"0.8rem",marginBottom:"1rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:"var(--vscode-editorInfo-background)",color:"var(--vscode-editorInfo-foreground)",border:"1px solid var(--vscode-editorInfo-border)"},noReviewStatus:{fontSize:"0.8rem",marginBottom:"1rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:"var(--vscode-editorError-background)",color:"var(--vscode-editorError-foreground)",border:"1px solid var(--vscode-editorError-border)"},reviewActions:{display:"flex",flexDirection:"row",gap:"0.5rem",justifyContent:"space-between"},actionButton:{padding:"0.6rem 0.75rem",fontSize:"0.85rem",fontWeight:"500",borderRadius:"4px",border:"none",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",flex:1,minHeight:"40px"},primaryButton:{backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)"},secondaryButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)"},successButton:{backgroundColor:"var(--vscode-testing-iconPassed)",color:"var(--vscode-button-foreground)"},disabledButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-disabledForeground)",cursor:"not-allowed",opacity:"0.6"},infoButton:{backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",border:"1px solid var(--vscode-button-border)"},settingsButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",border:"1px solid var(--vscode-button-border)"},tabButtonActive:{padding:"0.4rem 0.6rem",borderRadius:"4px",color:"var(--vscode-button-foreground)",cursor:"pointer",border:"1px solid var(--vscode-list-activeSelectionBackground)",background:"var(--vscode-button-background)"},tabButtonDeactive:{padding:"0.4rem 0.6rem",borderRadius:"4px",color:"var(--vscode-foreground)",cursor:"pointer",border:"1px solid var(--vscode-button-border)",background:"transparent"}};var ht=0,Bt=Array.isArray;function l(t,e,o,n,a,i){e||(e={});var c,s,u=e;if("ref"in u)for(s in u={},e)s=="ref"?c=e[s]:u[s]=e[s];var d={type:t,props:u,key:o,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ht,__i:-1,__u:0,__source:a,__self:i};if(typeof t=="function"&&(c=t.defaultProps))for(s in c)u[s]===void 0&&(u[s]=c[s]);return k.vnode&&k.vnode(d),d}function $({options:t,value:e,onChange:o,placeholder:n="Select..."}){let[a,i]=S(!1),[c,s]=S(""),[u,d]=S(t),v=K(null);A(()=>{let f=t.filter(_=>_.toLowerCase().includes(c.toLowerCase()));d(f)},[c,t]),A(()=>{function f(_){let x=v.current;x&&x.contains&&!x.contains(_.target)&&(i(!1),s(""))}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);let r=f=>{o(f),i(!1),s("")};return l("div",{style:m.selectContainer,ref:v,children:[l("div",{style:m.selectDisplay,onClick:()=>i(!a),children:[l("span",{children:e||n}),l("span",{style:m.arrow,children:a?"\u25B2":"\u25BC"})]}),a&&l("div",{style:m.dropdown,children:[l("input",{style:m.searchInput,type:"text",placeholder:"Search...",value:c,onChange:f=>s(f.target.value),autoFocus:!0}),l("div",{style:m.optionsList,children:u.length>0?u.map((f,_)=>l("div",{style:{...m.option,...e===f?m.selectedOption:{}},onClick:()=>r(f),children:f},_)):l("div",{style:m.noOptions,children:"No options found"})})]})]})}function ye({vscode:t,selectedFiles:e,setSelectedFiles:o,chatModels:n,loadingModels:a,selectedModel:i,setSelectedModel:c,theme:s}){let[u,d]=S(""),[v,r]=S([]),[f,_]=S(!1),[x,C]=S({}),h=K(!1),[w,g]=S(!1);A(()=>{let p=y=>{let B=y.data;if(!(!B||!B.type))if(B.type==="searchFilesResult"){let P=Array.isArray(B.results)?B.results:[];r(P),_(!1),h.current&&P.length===1&&(M(P[0]),d(""),r([])),h.current=!1}else if(B.type==="fileContent"){let{path:P,content:j}=B,b=P.endsWith(".cs")?"csharp":void 0,ee=[{name:P,text:j,startLine:1,endLine:j.split(`
`).length}];o(Y=>Y.map(J=>J.path===P?{...J,language:b,chunks:ee}:J)),C(Y=>({...Y,[P]:!1}))}else B.type==="reviewCreated"?(o([]),g(!1)):B.type==="fileAdded"&&M(B.filePath)};return window.addEventListener("message",p),()=>window.removeEventListener("message",p)},[]);let L=le(p=>{let y=(p||"").trim();y&&(_(!0),r([]),t.postMessage({type:"searchFiles",query:y}))},[t]),M=le(p=>{p&&(o(y=>y.find(B=>B.path===p)?y:[...y,{path:p}]),C(y=>({...y,[p]:!0})),t.postMessage({type:"requestFileContent",path:p}))},[t]),W=le(p=>{o(y=>y.filter(B=>B.path!==p))},[]),T=p=>{if(p.key==="Enter"){p.preventDefault();let y=u.trim();if(!y)return;h.current=!0,L(y)}},O=p=>{M(p),d(""),r([])},H=p=>{if(!p)return"";let y=p.split(/[\\\/]/);return y[y.length-1]||p},q=()=>{g(!0);let p=e.map(y=>({path:y.path,language:y.language||null,chunks:y.chunks||null}));t.postMessage({type:"createFileReview",data:{files:p,selectedModel:i}})};return l("div",{children:[l("label",{style:m.label,children:"Add file by name (paste filename and press Enter)"}),l("input",{style:{width:"100%",padding:"0.5rem",boxSizing:"border-box"},value:u,onInput:p=>d(p.target.value),onKeyDown:p=>T(p),placeholder:"e.g. Controllers/UserController.cs or Program.cs"}),f&&l("div",{style:{marginTop:"0.5rem"},children:"\u{1F50D} Searching workspace..."}),v.length>0&&l("div",{style:{padding:"0.5rem 10px 10px",background:s=="light"?"#0451a517":"#f5f5dc12"},children:[l("div",{style:{fontSize:"0.85rem",marginBottom:"0.25rem"},children:"Matches:"}),l("ul",{style:{listStyle:"none",padding:0,margin:0,maxHeight:"60vh",minHeight:"400px",overflowY:"auto"},children:v.map(p=>l("li",{style:{marginBottom:"0.25rem"},children:l("button",{style:{...m.tabButtonDeactive,width:"100%",textAlign:"left",padding:"0.5rem"},onClick:()=>O(p),children:[l("div",{style:{fontSize:"0.95rem",fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:H(p)}),l("div",{style:{fontSize:"0.75rem",color:"var(--vscode-descriptionForeground)",marginTop:"0.15rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:p})]})},p))})]}),l("div",{style:{marginTop:"1rem"},children:[l("div",{style:{fontWeight:600},children:"Files to review"}),e.length===0&&l("div",{style:{...m.warning,marginTop:"0.5rem"},children:"No files selected"}),l("ul",{style:{listStyle:"none",padding:0,marginTop:"0.5rem"},children:e.map(p=>l("li",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[l("div",{style:{flex:"1 1 auto",minWidth:0},children:[l("div",{style:{fontSize:"0.95rem",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:H(p.path)}),l("div",{style:{fontSize:"0.75rem",color:"var(--vscode-descriptionForeground)",marginTop:"0.15rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:p.path}),l("div",{style:{fontSize:"0.8rem",color:"var(--vscode-descriptionForeground)",marginTop:"0.25rem"},children:x[p.path]?"Loading file...":p.chunks?`${p.chunks.length} chunk(s)`:"Waiting for content"})]}),l("div",{style:{flex:"0 0 auto"},children:l("button",{style:{...m.clearButton},onClick:()=>W(p.path),children:"Remove"})})]},p.path))})]}),l("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginTop:"1rem"},children:[l("div",{style:{flex:"1 1 auto",minWidth:0},children:[!a&&n.length>0&&l($,{options:n.map(p=>p.displayName),value:n.find(p=>p.id===i)?.displayName||"",onChange:p=>{let y=n.find(B=>B.displayName===p);y&&c(y.id)},placeholder:"Select AI model for code review..."}),!a&&n.length===0&&l("div",{style:{maxWidth:"200px",...m.warning},children:"Loading model ..."})]}),l("div",{style:{flex:"0 0 auto"},children:l("button",{style:{...m.button,marginTop:0,width:"auto",padding:"0.6rem 1rem"},disabled:w,onClick:q,children:w?"Creating...":"Create Review"})})]})]})}var be=(b=>(b.RequestBranchCommits="requestBranchCommits",b.RequestWorkspaceFolders="requestWorkspaceFolders",b.RequestFilesInFolder="requestFilesInFolder",b.SubmitFileReview="submitFileReview",b.SubmitFilesReview="submitFilesReview",b.CreateReview="createReview",b.CreateFileReview="createFileReview",b.RequestGitInfo="requestGitInfo",b.RequestChatModels="requestChatModels",b.RefreshChatModels="refreshChatModels",b.RequestSettings="requestSettings",b.RefreshGit="refreshGit",b.CheckTargetBranch="checkTargetBranch",b.ShowDiffViewer="showDiffViewer",b.ProcessReview="processReview",b.PostToSlack="postToSlack",b.ShowReviewResult="showReviewResult",b.OpenSettings="openSettings",b.ClearReviewData="clearReviewData",b.BranchCommits="branchCommits",b.WorkspaceFolders="workspaceFolders",b.FilesInFolder="filesInFolder",b.FileReviewSubmitted="fileReviewSubmitted",b.FileReviewError="fileReviewError",b.ReviewCreated="reviewCreated",b.GitInfo="gitInfo",b.ChatModels="chatModels",b.Settings="settings",b.TargetBranchStatus="targetBranchStatus",b.ReviewDataCleared="reviewDataCleared",b.FileAdded="fileAdded",b))(be||{}),Ye=be;function Je({vscode:t,chatModels:e,setChatModels:o,loadingModels:n,selectedModel:a,setSelectedModel:i,theme:c}){let[s,u]=S(""),[d,v]=S(""),[r,f]=S(""),[_,x]=S([]),[C,h]=S({currentBranch:"",allBranches:[],remoteBranches:[],isGitRepo:!1}),[w,g]=S(!0),[L,M]=S(!1),[W,T]=S(null),[O,H]=S(!1),[q,p]=S(!1),[y,B]=S(".github/instructions"),[P,j]=S(null),[b,ee]=S(!1);A(()=>{t.postMessage({type:"requestGitInfo"}),t.postMessage({type:"requestSettings"});let I=D=>{let R=D.data;if(console.log(D.data),R.type==="gitInfo"){h(R.data),u(R.data.currentBranch);let it=["dev","main","master","staging"].find(ce=>R.data.allBranches.includes(ce))||R.data.allBranches.find(ce=>ce!==R.data.currentBranch)||"";v(it),g(!1)}else R.type==="chatModels"||(R.type==="showManualRefresh"?H(!0):R.type==="settings"?(p(R.data.intelligentRoutingEnabled),B(R.data.instructionFolderPath)):R.type==="branchCommits"?(console.log("Received commits for branch:",R.data.branchName),console.log("Received commits for branch:",R.data.commits),x(R.data.commits),M(!1)):R.type==="reviewCreated"?console.log("Review created:",R.data.summary):R.type==="reviewDataCleared"?console.log("Review data cleared"):R.type==="targetBranchStatus"&&(j(R.data),ee(!1)))};return window.addEventListener("message",I),()=>window.removeEventListener("message",I)},[]),A(()=>{s&&C.isGitRepo&&(M(!0),f(""),t.postMessage({type:"requestBranchCommits",branchName:s}))},[s,C.isGitRepo]),A(()=>{d&&C.isGitRepo?(ee(!0),j(null),t.postMessage({type:"checkTargetBranch",targetBranch:d})):j(null)},[d,C.isGitRepo]);let Y=["dev","main","staging","uat","production","master"],J=["dev","main","master","staging","uat"],Ze=C.isGitRepo&&C.allBranches.length>0?C.allBranches:Y,Xe=C.isGitRepo&&C.allBranches.length>0?C.allBranches:J,et=()=>{console.log({currentBranch:s,baseBranch:d,selectedCommit:r,selectedModel:a}),t.postMessage({type:"createReview",data:{currentBranch:s,baseBranch:d,selectedCommit:r,selectedModel:a}})},bt=()=>{g(!0),t.postMessage({type:"refreshGit"})},tt=()=>{T(null),H(!1),t.postMessage({type:"refreshChatModels"})};if(w)return l("div",{style:m.container,children:l("div",{style:m.loading,children:l("div",{children:"\u{1F504} Loading git information..."})})});let ot=_.map(I=>`${I.shortHash} - ${I.message.split(`
`)[0].substring(0,50)}${I.message.length>50?"...":""}`),nt=I=>{let D=_.find(R=>I.startsWith(R.shortHash));return D?D.hash:""},rt=I=>{let D=_.find(R=>R.hash===I);return D?`${D.shortHash} - ${D.message.split(`
`)[0].substring(0,50)}${D.message.length>50?"...":""}`:I};return C.isGitRepo?l(U,{children:[l("label",{style:m.label,children:["Current Branch ",C.isGitRepo&&`(${C.allBranches.length} branches)`]}),l($,{options:Ze,value:s,onChange:u,placeholder:"Select current branch..."}),s&&C.isGitRepo&&l("div",{style:m.commitSection,children:[l("label",{style:{...m.label,marginTop:"0.25rem"},children:["Select Commit (Optional)",L&&l("span",{style:m.loadingText,children:" - Loading commits..."}),!L&&_.length>0&&l("span",{style:m.commitCount,children:[" - ",_.length," commits loaded"]})]}),!L&&_.length>0&&l($,{options:ot,value:r?rt(r):"",onChange:I=>f(nt(I)),placeholder:"Select specific commit (or leave empty to use base branch)..."}),r&&l("div",{style:m.selectedCommit,children:["\u2713 Selected commit: ",r.substring(0,8),l("button",{style:m.clearButton,onClick:()=>f(""),children:"Clear"})]})]}),l("label",{style:{...m.label,marginTop:"1rem"},children:["Target Branch ",r?"(Will be ignored if commit is selected)":""," ",C.isGitRepo&&`(${C.allBranches.length} branches available)`,b&&l("span",{style:{color:"var(--vscode-descriptionForeground)",fontSize:"0.75rem",marginLeft:"0.5rem"},children:"\u{1F504} Checking..."}),P&&!b&&P.needsPull&&l("span",{style:{color:"#ff8c00",fontSize:"0.75rem",marginLeft:"0.5rem"},children:"\u26A0\uFE0F Pull recommended"})]}),l($,{options:Xe,value:d,onChange:v,placeholder:"Select target branch..."}),l("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginTop:"1rem"},children:[l("div",{style:{flex:"1 1 auto",minWidth:0},children:[W&&l("div",{style:m.warning,children:["\u26A0\uFE0F Failed to load AI models: ",W]}),O&&l("button",{style:{...m.button,backgroundColor:"#f59e0b",marginBottom:"0.5rem"},onClick:tt,disabled:n,children:n?"Refreshing...":"\u{1F504} Manual Refresh AI Models"}),!n&&e.length>0&&l($,{options:e.map(I=>I.displayName),value:e.find(I=>I.id===a)?.displayName||"",onChange:I=>{let D=e.find(R=>R.displayName===I);D&&i(D.id)},placeholder:"Select AI model for code review..."}),!n&&e.length===0&&!O&&l("div",{style:{maxWidth:"200px",...m.warning},children:"Loading model ..."})]}),l("div",{style:{flex:"0 0 auto"},children:l("button",{style:{...m.button,marginTop:0,width:"auto",padding:"0.6rem 1rem"},onClick:et,disabled:!s||!d&&!r||!a,children:"Create Review"})})]})]}):l("div",{style:m.warning,children:"\u26A0\uFE0F Not a Git repository. Using sample data."})}var N=acquireVsCodeApi(),gt={activeTab:"premerge",selectedFiles:[],chatModes:[],selectedModel:""};function yt(){let t=K(N.getState()??gt),[e,o]=S(t.current.activeTab),[n,a]=S(t.current.selectedFiles??[]),[i,c]=S(t.current.chatModes??[]),[s,u]=S(t.current.selectedModel??""),[d,v]=S(!1),r=()=>document.body.classList.contains("vscode-dark")?"dark":document.body.classList.contains("vscode-light")?"light":"high-contrast",[f,_]=S(r());A(()=>{N.postMessage({type:Ye.RequestChatModels});let h=w=>{let g=w.data;if(g.type==="chatModels"&&(c(g.data),!g.error)){let L=g.data.find(M=>M.family==="gpt-4o"||M.id==="gpt-4o")||g.data[0]}};return window.addEventListener("message",h),()=>window.removeEventListener("message",h)},[]),A(()=>{let h=new MutationObserver(()=>_(r()));return h.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>h.disconnect()},[]),A(()=>{let h={...t.current,selectedModel:s};t.current=h,N.setState(h)},[s]),A(()=>{let h={...t.current,activeTab:e};t.current=h,N.setState(h)},[e]),A(()=>{let h={...t.current,selectedFiles:n};t.current=h,N.setState(h)},[n]),A(()=>{let h=w=>{let g=w.data;console.log("App.tsx Receive Event",g.type,g.data),g.type};return window.addEventListener("message",h),()=>window.removeEventListener("message",h)},[]);let x=()=>{N.postMessage({type:"showReviewResult"})},C=()=>{N.postMessage({type:"openSettings",settingId:"premergeReview"})};return l("div",{style:m.container,children:[l("div",{style:m.header,children:l("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[l("button",{onClick:()=>o("premerge"),title:"Switch to review commit",style:e==="premerge"?m.tabButtonActive:m.tabButtonDeactive,children:"Review Commit"}),l("button",{onClick:()=>o("file"),title:"Switch to review file",style:e==="file"?m.tabButtonActive:m.tabButtonDeactive,children:"Review File"})]})}),e==="premerge"&&l(Je,{chatModels:i,setChatModels:c,loadingModels:d,selectedModel:s,setSelectedModel:u,theme:f,vscode:N}),e==="file"&&l(ye,{selectedFiles:n,setSelectedFiles:a,chatModels:i,loadingModels:d,selectedModel:s,setSelectedModel:u,theme:f,vscode:N}),l("div",{style:m.reviewSection,children:l("div",{style:m.reviewActions,children:[l("button",{style:{...m.actionButton,...m.infoButton},onClick:x,title:"Show review history and results",children:"\u{1F4CB} Review History"}),l("button",{style:{...m.actionButton,...m.settingsButton},onClick:C,title:"Extension settings and configuration",children:"\u2699\uFE0F Settings"})]})})]})}var Qe=document.getElementById("root");Qe&&He(l(yt,{}),Qe);})();
