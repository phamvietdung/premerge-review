"use strict";(()=>{var Z,b,he,Xe,W,fe,me,be,ye,ae,re,ie,et,O={},ke=[],tt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Q=Array.isArray;function E(t,e){for(var o in e)t[o]=e[o];return t}function se(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ot(t,e,o){var n,i,a,s={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?Z.call(arguments,2):o),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return J(t,s,n,i,null)}function J(t,e,o,n,i){var a={type:t,props:e,key:o,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++he,__i:-1,__u:0};return i==null&&b.vnode!=null&&b.vnode(a),a}function U(t){return t.children}function K(t,e){this.props=t,this.context=e}function D(t,e){if(e==null)return t.__?D(t.__,t.__i+1):null;for(var o;e<t.__k.length;e++)if((o=t.__k[e])!=null&&o.__e!=null)return o.__e;return typeof t.type=="function"?D(t):null}function Ce(t){var e,o;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((o=t.__k[e])!=null&&o.__e!=null){t.__e=t.__c.base=o.__e;break}return Ce(t)}}function pe(t){(!t.__d&&(t.__d=!0)&&W.push(t)&&!Y.__r++||fe!=b.debounceRendering)&&((fe=b.debounceRendering)||me)(Y)}function Y(){for(var t,e,o,n,i,a,s,l=1;W.length;)W.length>l&&W.sort(be),t=W.shift(),l=W.length,t.__d&&(o=void 0,i=(n=(e=t).__v).__e,a=[],s=[],e.__P&&((o=E({},n)).__v=n.__v+1,b.vnode&&b.vnode(o),le(e.__P,o,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,a,i??D(n),!!(32&n.__u),s),o.__v=n.__v,o.__.__k[o.__i]=o,Se(a,o,s),o.__e!=i&&Ce(o)));Y.__r=0}function xe(t,e,o,n,i,a,s,l,_,c,p){var r,d,u,y,B,k,h=n&&n.__k||ke,g=e.length;for(_=nt(o,e,h,_,g),r=0;r<g;r++)(u=o.__k[r])!=null&&(d=u.__i==-1?O:h[u.__i]||O,u.__i=r,k=le(t,u,d,i,a,s,l,_,c,p),y=u.__e,u.ref&&d.ref!=u.ref&&(d.ref&&ce(d.ref,null,u),p.push(u.ref,u.__c||y,u)),B==null&&y!=null&&(B=y),4&u.__u||d.__k===u.__k?_=we(u,_,t):typeof u.type=="function"&&k!==void 0?_=k:y&&(_=y.nextSibling),u.__u&=-7);return o.__e=B,_}function nt(t,e,o,n,i){var a,s,l,_,c,p=o.length,r=p,d=0;for(t.__k=new Array(i),a=0;a<i;a++)(s=e[a])!=null&&typeof s!="boolean"&&typeof s!="function"?(_=a+d,(s=t.__k[a]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?J(null,s,null,null,null):Q(s)?J(U,{children:s},null,null,null):s.constructor==null&&s.__b>0?J(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,l=null,(c=s.__i=rt(s,o,_,r))!=-1&&(r--,(l=o[c])&&(l.__u|=2)),l==null||l.__v==null?(c==-1&&(i>p?d--:i<p&&d++),typeof s.type!="function"&&(s.__u|=4)):c!=_&&(c==_-1?d--:c==_+1?d++:(c>_?d--:d++,s.__u|=4))):t.__k[a]=null;if(r)for(a=0;a<p;a++)(l=o[a])!=null&&(2&l.__u)==0&&(l.__e==n&&(n=D(l)),Re(l,l));return n}function we(t,e,o){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=we(n[i],e,o));return e}t.__e!=e&&(e&&t.type&&!o.contains(e)&&(e=D(t)),o.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function rt(t,e,o,n){var i,a,s=t.key,l=t.type,_=e[o];if(_===null&&t.key==null||_&&s==_.key&&l==_.type&&(2&_.__u)==0)return o;if(n>(_!=null&&(2&_.__u)==0?1:0))for(i=o-1,a=o+1;i>=0||a<e.length;){if(i>=0){if((_=e[i])&&(2&_.__u)==0&&s==_.key&&l==_.type)return i;i--}if(a<e.length){if((_=e[a])&&(2&_.__u)==0&&s==_.key&&l==_.type)return a;a++}}return-1}function ve(t,e,o){e[0]=="-"?t.setProperty(e,o??""):t[e]=o==null?"":typeof o!="number"||tt.test(e)?o:o+"px"}function V(t,e,o,n,i){var a,s;e:if(e=="style")if(typeof o=="string")t.style.cssText=o;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)o&&e in o||ve(t.style,e,"");if(o)for(e in o)n&&o[e]==n[e]||ve(t.style,e,o[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(ye,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=o,o?n?o.u=n.u:(o.u=ae,t.addEventListener(e,a?ie:re,a)):t.removeEventListener(e,a?ie:re,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=o??"";break e}catch{}typeof o=="function"||(o==null||o===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&o==1?"":o))}}function ge(t){return function(e){if(this.l){var o=this.l[e.type+t];if(e.t==null)e.t=ae++;else if(e.t<o.u)return;return o(b.event?b.event(e):e)}}}function le(t,e,o,n,i,a,s,l,_,c){var p,r,d,u,y,B,k,h,g,T,I,F,A,P,z,L,G,R=e.type;if(e.constructor!=null)return null;128&o.__u&&(_=!!(32&o.__u),a=[l=e.__e=o.__e]),(p=b.__b)&&p(e);e:if(typeof R=="function")try{if(h=e.props,g="prototype"in R&&R.prototype.render,T=(p=R.contextType)&&n[p.__c],I=p?T?T.props.value:p.__:n,o.__c?k=(r=e.__c=o.__c).__=r.__E:(g?e.__c=r=new R(h,I):(e.__c=r=new K(h,I),r.constructor=R,r.render=at),T&&T.sub(r),r.props=h,r.state||(r.state={}),r.context=I,r.__n=n,d=r.__d=!0,r.__h=[],r._sb=[]),g&&r.__s==null&&(r.__s=r.state),g&&R.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=E({},r.__s)),E(r.__s,R.getDerivedStateFromProps(h,r.__s))),u=r.props,y=r.state,r.__v=e,d)g&&R.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),g&&r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(g&&R.getDerivedStateFromProps==null&&h!==u&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(h,I),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(h,r.__s,I)===!1||e.__v==o.__v){for(e.__v!=o.__v&&(r.props=h,r.state=r.__s,r.__d=!1),e.__e=o.__e,e.__k=o.__k,e.__k.some(function(N){N&&(N.__=e)}),F=0;F<r._sb.length;F++)r.__h.push(r._sb[F]);r._sb=[],r.__h.length&&s.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(h,r.__s,I),g&&r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(u,y,B)})}if(r.context=I,r.props=h,r.__P=t,r.__e=!1,A=b.__r,P=0,g){for(r.state=r.__s,r.__d=!1,A&&A(e),p=r.render(r.props,r.state,r.context),z=0;z<r._sb.length;z++)r.__h.push(r._sb[z]);r._sb=[]}else do r.__d=!1,A&&A(e),p=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++P<25);r.state=r.__s,r.getChildContext!=null&&(n=E(E({},n),r.getChildContext())),g&&!d&&r.getSnapshotBeforeUpdate!=null&&(B=r.getSnapshotBeforeUpdate(u,y)),L=p,p!=null&&p.type===U&&p.key==null&&(L=Be(p.props.children)),l=xe(t,Q(L)?L:[L],e,o,n,i,a,s,l,_,c),r.base=e.__e,e.__u&=-161,r.__h.length&&s.push(r),k&&(r.__E=r.__=null)}catch(N){if(e.__v=null,_||a!=null)if(N.then){for(e.__u|=_?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else for(G=a.length;G--;)se(a[G]);else e.__e=o.__e,e.__k=o.__k;b.__e(N,e,o)}else a==null&&e.__v==o.__v?(e.__k=o.__k,e.__e=o.__e):l=e.__e=it(o.__e,e,o,n,i,a,s,_,c);return(p=b.diffed)&&p(e),128&e.__u?void 0:l}function Se(t,e,o){for(var n=0;n<o.length;n++)ce(o[n],o[++n],o[++n]);b.__c&&b.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){b.__e(a,i.__v)}})}function Be(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Q(t)?t.map(Be):E({},t)}function it(t,e,o,n,i,a,s,l,_){var c,p,r,d,u,y,B,k=o.props,h=e.props,g=e.type;if(g=="svg"?i="http://www.w3.org/2000/svg":g=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(c=0;c<a.length;c++)if((u=a[c])&&"setAttribute"in u==!!g&&(g?u.localName==g:u.nodeType==3)){t=u,a[c]=null;break}}if(t==null){if(g==null)return document.createTextNode(h);t=document.createElementNS(i,g,h.is&&h),l&&(b.__m&&b.__m(e,a),l=!1),a=null}if(g==null)k===h||l&&t.data==h||(t.data=h);else{if(a=a&&Z.call(t.childNodes),k=o.props||O,!l&&a!=null)for(k={},c=0;c<t.attributes.length;c++)k[(u=t.attributes[c]).name]=u.value;for(c in k)if(u=k[c],c!="children"){if(c=="dangerouslySetInnerHTML")r=u;else if(!(c in h)){if(c=="value"&&"defaultValue"in h||c=="checked"&&"defaultChecked"in h)continue;V(t,c,null,u,i)}}for(c in h)u=h[c],c=="children"?d=u:c=="dangerouslySetInnerHTML"?p=u:c=="value"?y=u:c=="checked"?B=u:l&&typeof u!="function"||k[c]===u||V(t,c,u,k[c],i);if(p)l||r&&(p.__html==r.__html||p.__html==t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(r&&(t.innerHTML=""),xe(e.type=="template"?t.content:t,Q(d)?d:[d],e,o,n,g=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,s,a?a[0]:o.__k&&D(o,0),l,_),a!=null)for(c=a.length;c--;)se(a[c]);l||(c="value",g=="progress"&&y==null?t.removeAttribute("value"):y!=null&&(y!==t[c]||g=="progress"&&!y||g=="option"&&y!=k[c])&&V(t,c,y,k[c],i),c="checked",B!=null&&B!=t[c]&&V(t,c,B,k[c],i))}return t}function ce(t,e,o){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){b.__e(i,o)}}function Re(t,e,o){var n,i;if(b.unmount&&b.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||ce(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){b.__e(a,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Re(n[i],e,o||typeof t.type!="function");o||se(t.__e),t.__c=t.__=t.__e=void 0}function at(t,e,o){return this.constructor(t,o)}function Me(t,e,o){var n,i,a,s;e==document&&(e=document.documentElement),b.__&&b.__(t,e),i=(n=typeof o=="function")?null:o&&o.__k||e.__k,a=[],s=[],le(e,t=(!n&&o||e).__k=ot(U,null,[t]),i||O,O,e.namespaceURI,!n&&o?[o]:i?null:e.firstChild?Z.call(e.childNodes):null,a,!n&&o?o:i?i.__e:e.firstChild,n,s),Se(a,t,s)}Z=ke.slice,b={__e:function(t,e,o,n){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(l){t=l}throw t}},he=0,Xe=function(t){return t!=null&&t.constructor==null},K.prototype.setState=function(t,e){var o;o=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},o),this.props)),t&&E(o,t),t!=null&&this.__v&&(e&&this._sb.push(e),pe(this))},K.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),pe(this))},K.prototype.render=U,W=[],me=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,be=function(t,e){return t.__v.__b-e.__v.__b},Y.__r=0,ye=/(PointerCapture)$|Capture$/i,ae=0,re=ge(!1),ie=ge(!0),et=0;var j,x,_e,Ie,ee=0,Ne=[],w=b,Ee=w.__b,He=w.__r,Te=w.diffed,Fe=w.__c,Ae=w.unmount,Pe=w.__;function ue(t,e){w.__h&&w.__h(x,t,ee||e),ee=0;var o=x.__H||(x.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function S(t){return ee=1,st(De,t)}function st(t,e,o){var n=ue(j++,2);if(n.t=t,!n.__c&&(n.__=[o?o(e):De(void 0,e),function(l){var _=n.__N?n.__N[0]:n.__[0],c=n.t(_,l);_!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=x,!x.__f)){var i=function(l,_,c){if(!n.__c.__H)return!0;var p=n.__c.__H.__.filter(function(d){return!!d.__c});if(p.every(function(d){return!d.__N}))return!a||a.call(this,l,_,c);var r=n.__c.props!==l;return p.forEach(function(d){if(d.__N){var u=d.__[0];d.__=d.__N,d.__N=void 0,u!==d.__[0]&&(r=!0)}}),a&&a.call(this,l,_,c)||r};x.__f=!0;var a=x.shouldComponentUpdate,s=x.componentWillUpdate;x.componentWillUpdate=function(l,_,c){if(this.__e){var p=a;a=void 0,i(l,_,c),a=p}s&&s.call(this,l,_,c)},x.shouldComponentUpdate=i}return n.__N||n.__}function $(t,e){var o=ue(j++,3);!w.__s&&ze(o.__H,e)&&(o.__=t,o.u=e,x.__H.__h.push(o))}function We(t){return ee=5,lt(function(){return{current:t}},[])}function lt(t,e){var o=ue(j++,7);return ze(o.__H,e)&&(o.__=t(),o.__H=e,o.__h=t),o.__}function ct(){for(var t;t=Ne.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(X),t.__H.__h.forEach(de),t.__H.__h=[]}catch(e){t.__H.__h=[],w.__e(e,t.__v)}}w.__b=function(t){x=null,Ee&&Ee(t)},w.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Pe&&Pe(t,e)},w.__r=function(t){He&&He(t),j=0;var e=(x=t.__c).__H;e&&(_e===x?(e.__h=[],x.__h=[],e.__.forEach(function(o){o.__N&&(o.__=o.__N),o.u=o.__N=void 0})):(e.__h.forEach(X),e.__h.forEach(de),e.__h=[],j=0)),_e=x},w.diffed=function(t){Te&&Te(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ne.push(e)!==1&&Ie===w.requestAnimationFrame||((Ie=w.requestAnimationFrame)||_t)(ct)),e.__H.__.forEach(function(o){o.u&&(o.__H=o.u),o.u=void 0})),_e=x=null},w.__c=function(t,e){e.some(function(o){try{o.__h.forEach(X),o.__h=o.__h.filter(function(n){return!n.__||de(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],w.__e(n,o.__v)}}),Fe&&Fe(t,e)},w.unmount=function(t){Ae&&Ae(t);var e,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(n){try{X(n)}catch(i){e=i}}),o.__H=void 0,e&&w.__e(e,o.__v))};var Le=typeof requestAnimationFrame=="function";function _t(t){var e,o=function(){clearTimeout(n),Le&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(o,35);Le&&(e=requestAnimationFrame(o))}function X(t){var e=x,o=t.__c;typeof o=="function"&&(t.__c=void 0,o()),x=e}function de(t){var e=x;t.__c=t.__(),x=e}function ze(t,e){return!t||t.length!==e.length||e.some(function(o,n){return o!==t[n]})}function De(t,e){return typeof e=="function"?e(t):e}var dt=0,ht=Array.isArray;function f(t,e,o,n,i,a){e||(e={});var s,l,_=e;if("ref"in _)for(l in _={},e)l=="ref"?s=e[l]:_[l]=e[l];var c={type:t,props:_,key:o,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--dt,__i:-1,__u:0,__source:i,__self:a};if(typeof t=="function"&&(s=t.defaultProps))for(l in s)_[l]===void 0&&(_[l]=s[l]);return b.vnode&&b.vnode(c),c}var H=acquireVsCodeApi();function te({options:t,value:e,onChange:o,placeholder:n="Select..."}){let[i,a]=S(!1),[s,l]=S(""),[_,c]=S(t),p=We(null);$(()=>{let d=t.filter(u=>u.toLowerCase().includes(s.toLowerCase()));c(d)},[s,t]),$(()=>{function d(u){let y=p.current;y&&y.contains&&!y.contains(u.target)&&(a(!1),l(""))}return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);let r=d=>{o(d),a(!1),l("")};return f("div",{style:v.selectContainer,ref:p,children:[f("div",{style:v.selectDisplay,onClick:()=>a(!i),children:[f("span",{children:e||n}),f("span",{style:v.arrow,children:i?"\u25B2":"\u25BC"})]}),i&&f("div",{style:v.dropdown,children:[f("input",{style:v.searchInput,type:"text",placeholder:"Search...",value:s,onChange:d=>l(d.target.value),autoFocus:!0}),f("div",{style:v.optionsList,children:_.length>0?_.map((d,u)=>f("div",{style:{...v.option,...e===d?v.selectedOption:{}},onClick:()=>r(d),children:d},u)):f("div",{style:v.noOptions,children:"No options found"})})]})]})}var v={container:{padding:"1rem",fontFamily:"var(--vscode-font-family)",color:"var(--vscode-foreground)",backgroundColor:"var(--vscode-editor-background)",height:"100%"},heading:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem",color:"var(--vscode-foreground)"},label:{fontSize:"0.85rem",marginBottom:"0.25rem",display:"block",color:"var(--vscode-foreground)"},select:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",border:"1px solid var(--vscode-input-border)",borderRadius:"4px"},selectContainer:{position:"relative",width:"100%"},selectDisplay:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",border:"1px solid var(--vscode-input-border)",borderRadius:"4px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box"},arrow:{fontSize:"0.8rem",color:"var(--vscode-descriptionForeground)"},dropdown:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"var(--vscode-dropdown-background)",border:"1px solid var(--vscode-dropdown-border)",borderTop:"none",borderRadius:"0 0 4px 4px",zIndex:1e3,maxHeight:"200px",overflow:"hidden"},searchInput:{width:"100%",padding:"0.5rem",fontSize:"0.9rem",backgroundColor:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",border:"none",borderBottom:"1px solid var(--vscode-input-border)",outline:"none",boxSizing:"border-box"},optionsList:{maxHeight:"150px",overflowY:"auto"},option:{padding:"0.5rem",cursor:"pointer",borderBottom:"1px solid var(--vscode-widget-border)",color:"var(--vscode-foreground)"},selectedOption:{backgroundColor:"var(--vscode-list-activeSelectionBackground)",color:"var(--vscode-list-activeSelectionForeground)"},noOptions:{padding:"0.5rem",color:"var(--vscode-descriptionForeground)",textAlign:"center"},button:{marginTop:"1.5rem",width:"100%",padding:"0.6rem",fontSize:"0.95rem",backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",border:"none",borderRadius:"4px",cursor:"pointer"},loading:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",fontSize:"0.9rem",color:"var(--vscode-descriptionForeground)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},refreshButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",border:"1px solid var(--vscode-button-border)",borderRadius:"4px",padding:"0.5rem",cursor:"pointer",fontSize:"0.9rem"},warning:{backgroundColor:"var(--vscode-editorWarning-background)",color:"var(--vscode-editorWarning-foreground)",padding:"0.5rem",borderRadius:"4px",fontSize:"0.85rem",marginBottom:"1rem",textAlign:"center",border:"1px solid var(--vscode-editorWarning-border)"},commitSection:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"var(--vscode-editorWidget-background)",borderRadius:"4px",border:"1px solid var(--vscode-widget-border, var(--vscode-contrastBorder, #444))"},loadingText:{color:"var(--vscode-descriptionForeground)",fontSize:"0.8rem",fontStyle:"italic"},commitCount:{color:"var(--vscode-textLink-foreground)",fontSize:"0.8rem"},selectedCommit:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"var(--vscode-list-activeSelectionBackground)",color:"var(--vscode-list-activeSelectionForeground)",borderRadius:"4px",fontSize:"0.85rem",display:"flex",justifyContent:"space-between",alignItems:"center",border:"1px solid var(--vscode-contrastActiveBorder, var(--vscode-list-activeSelectionBackground))"},clearButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",border:"1px solid var(--vscode-button-border)",borderRadius:"3px",padding:"0.25rem 0.5rem",fontSize:"0.8rem",cursor:"pointer"},intelligentRoutingInfo:{backgroundColor:"var(--vscode-editorInfo-background)",color:"var(--vscode-editorInfo-foreground)",padding:"0.75rem",borderRadius:"4px",fontSize:"0.85rem",marginBottom:"1rem",border:"1px solid var(--vscode-editorInfo-border, var(--vscode-editorInfo-foreground, #22c55e))",display:"flex",alignItems:"flex-start",gap:"0.5rem"},intelligentRoutingWarning:{backgroundColor:"var(--vscode-editorWarning-background)",color:"var(--vscode-editorWarning-foreground)",padding:"0.75rem",borderRadius:"4px",fontSize:"0.85rem",marginBottom:"1rem",border:"1px solid var(--vscode-editorWarning-border, var(--vscode-contrastBorder, #f59e0b))",display:"flex",alignItems:"flex-start",gap:"0.5rem"},reviewSection:{position:"absolute",width:"100%",bottom:"0",left:"0",backgroundColor:"var(--vscode-editorWidget-background)",borderTop:"1px solid var(--vscode-widget-border)",padding:"0.75rem",boxSizing:"border-box"},reviewSectionTitle:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.75rem",color:"var(--vscode-foreground)",display:"flex",alignItems:"center",gap:"0.5rem"},reviewStatus:{fontSize:"0.8rem",marginBottom:"1rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:"var(--vscode-editorInfo-background)",color:"var(--vscode-editorInfo-foreground)",border:"1px solid var(--vscode-editorInfo-border)"},noReviewStatus:{fontSize:"0.8rem",marginBottom:"1rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:"var(--vscode-editorError-background)",color:"var(--vscode-editorError-foreground)",border:"1px solid var(--vscode-editorError-border)"},reviewActions:{display:"flex",flexDirection:"row",gap:"0.5rem",justifyContent:"space-between"},actionButton:{padding:"0.6rem 0.75rem",fontSize:"0.85rem",fontWeight:"500",borderRadius:"4px",border:"none",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",flex:1,minHeight:"40px"},primaryButton:{backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)"},secondaryButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)"},successButton:{backgroundColor:"var(--vscode-testing-iconPassed)",color:"var(--vscode-button-foreground)"},disabledButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-disabledForeground)",cursor:"not-allowed",opacity:"0.6"},infoButton:{backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",border:"1px solid var(--vscode-button-border)"},settingsButton:{backgroundColor:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",border:"1px solid var(--vscode-button-border)"}};function ut(){let[t,e]=S(""),[o,n]=S(""),[i,a]=S(""),[s,l]=S(""),[_,c]=S([]),[p,r]=S([]),[d,u]=S({currentBranch:"",allBranches:[],remoteBranches:[],isGitRepo:!1}),[y,B]=S(!0),[k,h]=S(!1),[g,T]=S(!1),[I,F]=S(null),[A,P]=S(!1),[z,L]=S(!1),[G,R]=S(".github/instructions");$(()=>{H.postMessage({type:"requestGitInfo"}),H.postMessage({type:"requestChatModels"}),H.postMessage({type:"requestSettings"});let C=M=>{let m=M.data;if(m.type==="gitInfo"){u(m.data),e(m.data.currentBranch);let q=["dev","main","master","staging"].find(ne=>m.data.allBranches.includes(ne))||m.data.allBranches.find(ne=>ne!==m.data.currentBranch)||"";n(q),B(!1)}else if(m.type==="chatModels"){if(r(m.data),m.error)F(m.error),P(!0);else{F(null),P(!1);let oe=m.data.find(q=>q.family==="gpt-4o"||q.id==="gpt-4o")||m.data[0];oe&&l(oe.id)}T(!1)}else m.type==="showManualRefresh"?P(!0):m.type==="settings"?(L(m.data.intelligentRoutingEnabled),R(m.data.instructionFolderPath)):m.type==="branchCommits"?(console.log("Received commits for branch:",m.data.branchName),console.log("Received commits for branch:",m.data.commits),c(m.data.commits),h(!1)):m.type==="reviewCreated"?console.log("Review created:",m.data.summary):m.type==="reviewDataCleared"&&console.log("Review data cleared")};return window.addEventListener("message",C),()=>window.removeEventListener("message",C)},[]),$(()=>{t&&d.isGitRepo&&(h(!0),a(""),H.postMessage({type:"requestBranchCommits",branchName:t}))},[t,d.isGitRepo]);let N=["ticket-1234_update_product","ticket-4567_fix_order","feature/new-dashboard","bugfix/payment-issue","hotfix/security-patch","dev","main","staging","release/v2.0.0"],Oe=["dev","main","master","staging","release/v2.0.0","feature/new-dashboard","hotfix/security-patch"],je=d.isGitRepo&&d.allBranches.length>0?d.allBranches:N,$e=d.isGitRepo&&d.allBranches.length>0?d.allBranches:Oe,Ge=()=>{console.log({currentBranch:t,baseBranch:o,selectedCommit:i,selectedModel:s}),H.postMessage({type:"createReview",data:{currentBranch:t,baseBranch:o,selectedCommit:i,selectedModel:s}})},qe=()=>{B(!0),H.postMessage({type:"refreshGit"})},Ve=()=>{T(!0),F(null),P(!1),H.postMessage({type:"refreshChatModels"})},Je=()=>{H.postMessage({type:"showReviewResult"})},Ke=()=>{H.postMessage({type:"openSettings",settingId:"premergeReview"})};if(y)return f("div",{style:v.container,children:f("div",{style:v.loading,children:f("div",{children:"\u{1F504} Loading git information..."})})});let Ye=_.map(C=>`${C.shortHash} - ${C.message.split(`
`)[0].substring(0,50)}${C.message.length>50?"...":""}`),Ze=C=>{let M=_.find(m=>C.startsWith(m.shortHash));return M?M.hash:""},Qe=C=>{let M=_.find(m=>m.hash===C);return M?`${M.shortHash} - ${M.message.split(`
`)[0].substring(0,50)}${M.message.length>50?"...":""}`:C};return f("div",{style:v.container,children:[f("div",{style:v.header,children:[f("h2",{style:v.heading,children:"Premerge Review Extensions"}),f("button",{style:v.refreshButton,onClick:qe,title:"Refresh git branches",children:"\u{1F504}"})]}),!d.isGitRepo&&f("div",{style:v.warning,children:"\u26A0\uFE0F Not a Git repository. Using sample data."}),z?f("div",{style:v.intelligentRoutingInfo,children:f("div",{children:f("strong",{children:"Intelligent Routing Enabled"})})}):f("div",{style:v.intelligentRoutingWarning,children:f("div",{children:f("strong",{children:"Traditional Instructions Mode"})})}),f("label",{style:v.label,children:["Current Branch ",d.isGitRepo&&`(${d.allBranches.length} branches)`]}),f(te,{options:je,value:t,onChange:e,placeholder:"Select current branch..."}),t&&d.isGitRepo&&f("div",{style:v.commitSection,children:[f("label",{style:{...v.label,marginTop:"1rem"},children:["Select Commit (Optional)",k&&f("span",{style:v.loadingText,children:" - Loading commits..."}),!k&&_.length>0&&f("span",{style:v.commitCount,children:[" - ",_.length," commits loaded"]})]}),!k&&_.length>0&&f(te,{options:Ye,value:i?Qe(i):"",onChange:C=>a(Ze(C)),placeholder:"Select specific commit (or leave empty to use base branch)..."}),i&&f("div",{style:v.selectedCommit,children:["\u2713 Selected commit: ",i.substring(0,8),f("button",{style:v.clearButton,onClick:()=>a(""),children:"Clear"})]})]}),f("label",{style:{...v.label,marginTop:"1rem"},children:["Target Branch ",i?"(Will be ignored if commit is selected)":""," ",d.isGitRepo&&`(${d.allBranches.length} branches available)`]}),f(te,{options:$e,value:o,onChange:n,placeholder:"Select target branch..."}),f("label",{style:{...v.label,marginTop:"1rem"},children:["AI Model for Review ",g?"(Loading...)":`(${p.length} models available)`]}),I&&f("div",{style:v.warning,children:["\u26A0\uFE0F Failed to load AI models: ",I]}),A&&f("button",{style:{...v.button,backgroundColor:"#f59e0b",marginBottom:"0.5rem"},onClick:Ve,disabled:g,children:g?"Refreshing...":"\u{1F504} Manual Refresh AI Models"}),!g&&p.length>0&&f(te,{options:p.map(C=>C.displayName),value:p.find(C=>C.id===s)?.displayName||"",onChange:C=>{let M=p.find(m=>m.displayName===C);M&&l(M.id)},placeholder:"Select AI model for code review..."}),!g&&p.length===0&&!A&&f("div",{style:v.warning,children:"\u26A0\uFE0F No AI models available. Using default GPT-4o."}),f("button",{style:v.button,onClick:Ge,disabled:!t||!o&&!i||!s,children:["Create Review ",i?`(from commit ${i.substring(0,8)})`:`(from ${o})`," with ",p.find(C=>C.id===s)?.name||"AI"]}),f("div",{style:v.reviewSection,children:f("div",{style:v.reviewActions,children:[f("button",{style:{...v.actionButton,...v.infoButton},onClick:Je,title:"Show review history and results",children:"\u{1F4CB} History"}),f("button",{style:{...v.actionButton,...v.settingsButton},onClick:Ke,title:"Extension settings and configuration",children:"\u2699\uFE0F Settings"})]})})]})}var Ue=document.getElementById("root");Ue&&Me(f(ut,{}),Ue);})();
